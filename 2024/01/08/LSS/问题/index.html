<!DOCTYPE html>
<html>
	<head>
		
<title>å®é™…é—®é¢˜-ğŸ§ </title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/dragon.ico">

<link rel="stylesheet" href="/css/index.css">



<meta name="keywords" content="java,åŸºç¡€,å¼€å‘é—®é¢˜,">
<meta name="description" content="ä¸€äº›å¼€å‘ä¸­é‡åˆ°çš„å®é™…é—®é¢˜">


<script src="/js/jquery.min.js"></script>


<script src="/js/index.js"></script>


<script src="/js/fancybox.umd.js"></script>


<script src="/js/fancybox-images.js"></script>


<script src="/js/gitalk.min.js"></script>


<script src="/js/hljs.min.js"></script>
 
<script>hljs.highlightAll();</script>

	<meta name="generator" content="Hexo 6.3.0"></head>

	<body>
		
	<div class="header">
		<div class="header-top" id="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/dragon.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										ä¸»é¡µ
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/archives">
										æ–‡æ¡£
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/categories">
										åˆ†ç±»
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/tags">
										æ ‡ç­¾
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/links">
										å‹æƒ…é“¾æ¥
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/about">
										æˆ‘
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>SoftLipa</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">ä¸»é¡µ</a>
        </li>
        
        <li>
            <a href="/archives">æ–‡æ¡£</a>
        </li>
        
        <li>
            <a href="/categories">åˆ†ç±»</a>
        </li>
        
        <li>
            <a href="/tags">æ ‡ç­¾</a>
        </li>
        
        <li>
            <a href="/links">å‹æƒ…é“¾æ¥</a>
        </li>
        
        <li>
            <a href="/about">æˆ‘</a>
        </li>
        
    </ul>
    <div class="my_foot">
        
        <a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
            <img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quietä¸»é¢˜">
        </a>
        
    </div>
</div>
<div class='shelter'>
</div>
<style>
    .shelter{
        background-color: #333;
        opacity:0.5;
        cursor: pointer;
        display: none; 
        position: fixed;
        left: 0;
        top: 0; 
        right: 0;
        bottom: 0;
        z-index: 1998;
    }
    .sidebar {
        width: 66%;
        height: 100%;
        position: fixed;
        top: 0;
        right: -100%;
        bottom: 0;
        background: #fff;
        z-index: 1999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815);
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $( function () {
	$( '.h-right-close>svg' )
		.click( function () {
			$( '.sidebar' )
				.animate( {
					right: "0"
				}, 500 );
			$( '.shelter' )
				.fadeIn( "slow" )
		} );
	$( '.shelter' )
		.click( function ( e ) {
			$( '.sidebar' )
				.animate( {
					right: "-100%"
				}, 500 );
			$( '.shelter' )
				.fadeOut( "slow" )
		} )
} )

</script>

<div class="post">
    <div class="post-header-background post-header-img"
    style="background: url('https://tu.ltyuanfang.cn/api/fengjing.php')" 
>
    <div class="post-header-background-content">
        <ul class="post-header-tag">
            
            
            <li><a href="/tags/java">java</a></li>
            
            <li><a href="/tags/åŸºç¡€">åŸºç¡€</a></li>
            
            <li><a href="/tags/å¼€å‘é—®é¢˜">å¼€å‘é—®é¢˜</a></li>
            
            
        </ul>
        
        <h1>å®é™…é—®é¢˜</h1>
        <div class="post-header-info">
            <div class="post-header-info-author">
                
                    <svg t="1604839279282" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="2901" width="20" height="20">
                        <path
                            d="M513 956.3c-247.7 0-448-200.3-448-448S265.3 66.2 513 66.2s448 200.3 448 448-200.3 442.1-448 442.1z m0-830.9c-212.2 0-388.8 170.7-388.8 388.8C124.2 726.3 294.9 903 513 903c212.2 0 388.8-170.7 388.8-388.8S725.2 125.4 513 125.4z m0 430.2c-94.2 0-170.7-76.5-170.7-170.7S418.8 207.8 513 207.8s170.7 76.5 170.7 170.7S607.2 555.6 513 555.6z m0-289.1c-64.6 0-112 52.8-112 112s47.4 117.9 112 117.9 112-52.8 112-112-47.4-117.9-112-117.9z m0 689.8c-135.7 0-259-58.7-341.9-158.9l-11.8-17.8 11.8-17.8c76.5-117.9 206.2-188.5 347.8-188.5 135.7 0 265 64.6 341.9 182.6l11.8 17.8-11.8 17.8C778 897.1 648.7 956.3 513 956.3zM230.3 773.2C300.9 849.7 406.9 897 513 897c112 0 218.1-47.4 288.6-129.8-70.5-88.2-170.7-135.6-282.7-135.6s-218.1 53.3-288.6 141.6z"
                            p-id="2902" fill="#ffffff"></path>
                    </svg>
                    
                <span class="post-header-info-author-text"> <a href="../../about">SoftLipa</a></span>
                <div class="post-header-info-author-categories">
                    
                         <a href="../../categories/åŸºç¡€/" target="_blank" >åŸºç¡€</a>
                    
                </div>
                <p>2024-01-08 09:33:36</p>
            </div>
        </div>
    </div>
</div>
    <div class="post-content" id="content">
  
  <div id="article" class="post-content-info">
    

    <p>åˆ«äººçš„é—®é¢˜å…¶å®ä¹Ÿæ˜¯è‡ªèº«çš„é—®é¢˜ï¼Œèµ·ç åˆ«äººæ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ï¼Œåªçœ‹ç»“æœå°±å¥½äº†ã€‚</p>
<p>å¤šæƒ³å•Šï¼Œå¤šè·Ÿä»£ç å•Šï¼Œé—®é¢˜ä¸€å®šèƒ½è·Ÿä»£ç è·Ÿå‡ºæ¥çš„ï¼Œå‡¡äº‹æ€»æœ‰ä¸ªå°½å¤´ã€‚</p>
<h3 id="ä»–äººè¯´ï¼š"><a href="#ä»–äººè¯´ï¼š" class="headerlink" title="ä»–äººè¯´ï¼š"></a>ä»–äººè¯´ï¼š</h3><p>å¦‚æœä½ çš„é¡¹ç›®ï¼Œè¿”å›çš„ç»“æœç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œå¯¹ç»“æœé›†è¿›è¡Œä¸€æ¬¡è½¬æ¢æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p>
<p>å†™ä»£ç å‘€ï¼Œå…¶å®å°±åƒå†™æ–‡ç« ä¸€æ ·ã€‚</p>
<p>é‡è§†åŸºç¡€</p>
<h2 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h2><h3 id="é˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ"><a href="#é˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ" class="headerlink" title="é˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ"></a>é˜¿é‡Œå·´å·´Javaå¼€å‘è§„èŒƒ</h3><ol>
<li><p>ä¸¥æ ¼éµå®ˆé©¼å³°ï¼Œå³ä¾¿æ˜¯TCP UDP è¿™ç§å¸¸è§çš„å¤§å†™å‘½åæ—¶é™¤é¦–å­—æ¯å†™ä½œå°å†™</p>
</li>
<li><p>å¸¸é‡å°½å¯èƒ½å¤§å†™å‘½åï¼Œå¦‚MAX_XXXX ï¼Œè¦è¡¨è¾¾æ¸…æ¥šå«ä¹‰</p>
</li>
<li><p>æµ‹è¯•æŸç±»å°±ä»¥å…¶å‘½å + Test</p>
</li>
<li><p>ä¸­æ‹¬å·æ”¾åœ¨ç±»åå å³String[] arr</p>
</li>
<li><p><strong>pojoä¸­çš„å¸ƒå°”ç±»å‹å˜é‡ä¸è¦ç”¨is</strong>ï¼Œä¼šå¼•èµ·åºåˆ—åŒ–é”™è¯¯</p>
</li>
<li><p>ç±»å‹å»ºè®®ä½“ç°ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼</p>
</li>
<li><p>ä»»ä½•å¸¸é‡éƒ½è¦å…ˆå®šä¹‰å†ä½¿ç”¨ï¼Œå¸¸é‡ç±»çš„åˆ†å‰²ï¼Œå¸¸é‡å¤ç”¨ï¼ˆè·¨åº”ç”¨ åº”ç”¨å†… å­å·¥ç¨‹ åŒ…å†… ç±»å†…</p>
</li>
<li><p>å°å†™lå®¹æ˜“è·Ÿ1æ··æ·†</p>
</li>
<li><p>æ³¨é‡Šå’Œå†…å®¹ä¹‹é—´éš”ä¸€ä¸ªç©ºæ ¼</p>
</li>
<li><p>è¿ç®—ç¬¦ä¸ä¸‹æ–‡ä¸€èµ·æ¢è¡Œã€‚ é¢å‘å¯¹è±¡è§„çº¦ï¼šï¼Ÿï¼Ÿï¼Ÿ\4. ã€å¼ºåˆ¶ã€‘å¤–éƒ¨æ­£åœ¨è°ƒç”¨æˆ–è€…äºŒæ–¹åº“ä¾èµ–çš„æ¥å£ï¼Œä¸å…è®¸ä¿®æ”¹æ–¹æ³•ç­¾åï¼Œé¿å…å¯¹æ¥å£è°ƒç”¨æ–¹äº§ç”Ÿ å½±å“ã€‚æ¥å£è¿‡æ—¶å¿…é¡»åŠ @Deprecated æ³¨è§£ï¼Œå¹¶æ¸…æ™°åœ°è¯´æ˜é‡‡ç”¨çš„æ–°æ¥å£æˆ–è€…æ–°æœåŠ¡æ˜¯ä»€ä¹ˆã€‚</p>
</li>
<li><p>å¯å˜å‚æ•°ï¼šï¼Ÿï¼Ÿï¼Ÿ <strong>å‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œç±»å‹ç¡®å®šçš„æƒ…å†µ</strong>å°½é‡ä¸ç”¨ Objectâ€¦. ï¼Œç¼–è¯‘å™¨ä¸ºå…¶éšå«åˆ›å»ºä¸€æ•°ç»„</p>
</li>
<li><p>Object.equals(è§ä¸‹æ–‡)</p>
<p>13.åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå»ºè®®ç”¨equals,å› ä¸ºæœ‰ä¸€ä¸ªèŒƒå›´çš„é—®é¢˜ï¼ˆå¦‚Integer</p>
<p>è¡¥å……è§„èŒƒï¼š</p>
<p>è¿­ä»£Mapä¸­çš„keyä¸valueç›´æ¥ç”¨entrySet()å¥½äºå…ˆkeySet()å†å»getï¼Œå½“ç„¶åªéœ€è¦keyå¯ä»¥ç›´æ¥ç”¨keySet()</p>
<p>è¦è€ƒè™‘åˆ°é›†åˆæ‰©å®¹çš„æ—¶é—´å¤æ‚åº¦é—®é¢˜</p>
<p>å·¥å…·ç±»å»ºç«‹ä¸€ä¸ªprivateæ„é€ æ–¹æ³•ï¼Œå±è”½å…¬æœ‰çš„</p>
<p>å­—ç¬¦ä¸²è½¬åŒ–ä½¿ç”¨String.valueOf(value) ä»£æ›¿ â€œ â€œ + value</p>
<p>BigDecimalçš„ç²¾åº¦æŸå¤±é£é™©</p>
<p>è¿”å›null???</p>
<pre><code>return fileName.equals(&quot;Charming&quot;);  -&gt;  return Objects.equals(&quot;Charming&quot;,fileName);
//å‡å°‘äº†ç©ºæŒ‡é’ˆå¼‚å¸¸é£é™©
</code></pre>
<p>14.ç±»æˆå‘˜ä¸æ–¹æ³•è®¿é—®è¦ä¸¥æ ¼æ§åˆ¶ã€‚</p>
<p>15.è‡ªå®šä¹‰å¯¹è±¡åšä¸º Map çš„é”®ï¼Œé‚£ä¹ˆå¿…é¡»é‡å†™ hashCode å’Œ equals</p>
<p>16.åªæœ‰Stringç±»å‹åœ¨mybatisä¸­æ‰éœ€è¦åˆ¤æ–­æ˜¯å¦&#96;ï¼&#x3D;â€™â€™ï¼Œå¦å¤–å¦‚æœæ˜¯å®šä¹‰äº†ä¸€ä¸ªString str &#x3D; å•ä¸ªå­—ç¬¦åœ¨mybatisä¸­ä¼šå½“ä½œcharç±»å‹å»å¤„ç†åŒæ ·</p>
<h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><p>subListæ˜¯Listè§†å›¾çš„é—®é¢˜ï¼Œå¯¹å…¶çš„æ“ä½œä¼šåæ˜ åœ¨åŸåˆ—è¡¨ä¸Šã€‚</p>
<p>BeansUtils.getProperties</p>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3></li>
<li><p>Mavenä¾èµ–é…ç½®çš„ä¿®æ”¹ å¢åŠ äº†é•œåƒç­‰</p>
</li>
<li><p>å¯åŠ¨å‘½ä»¤è¿‡é•¿ æ”¹ä¸‹IDEAé…ç½®</p>
<p>filenotfound æ”¹ä¸‹Yamlé…ç½® æ•°æ®åº“çš„ä¹Ÿå¾—æ”¹</p>
<p>åœ¨è¿™ä¸ªç³»ç»Ÿä¸­èœå•åŒæ—¶è¿˜å¯¹åº”ç€ä¸€äº›èµ„æº ï¼Ÿï¼Ÿèµ„æº ï¼Œç”±æ•°æ®åº“ä¸­çš„RESOURCE_NAMEçœ‹åº”è¯¥æ˜¯è¡¨ç¤ºæŒ‰é’®ã€‚</p>
<p>lambdaè¡¨è¾¾å¼ï¼Œå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’</p>
</li>
</ol>
<h3 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h3><p>åˆ©ç”¨æ ‡ç­¾ç»“åˆå¤ç”¨*Mapper.xmlä¸­çš„å„ç§ï¼Œå¦‚ï¼š</p>
<pre><code>&lt;insert id=&quot;insertSelective&quot; parameterType=&quot;com.pty.pa.security.entity.PtyApplication&quot;&gt;
    INSERT INTO afa_application (
    &lt;include refid=&quot;insertSelectiveColumn&quot; /&gt;
    ) VALUES (
    &lt;include refid=&quot;insertSelectiveValue&quot; /&gt;
    )
&lt;/insert&gt;
</code></pre>
<p>insertSelectiveColumn</p>
<pre><code>&lt;sql id=&quot;insertSelectiveColumn&quot;&gt;
    &lt;trim suffixOverrides=&quot;,&quot;&gt;
        &lt;if test=&quot;appName != null and appName != &#39;&#39;&quot;&gt;
            APP_NAME,
        &lt;/if&gt;
        &lt;if test=&quot;isDelete != null and isDelete != &#39;&#39;&quot;&gt;
            IS_DELETE,
        &lt;/if&gt;
      
    &lt;/trim&gt;
&lt;/sql&gt;
&lt;sql id=&quot;insertSelectiveValue&quot;&gt;
    &lt;trim suffixOverrides=&quot;,&quot;&gt;
        &lt;if test=&quot;appName != null and appName != &#39;&#39;&quot;&gt;
            #&#123;appName,jdbcType=VARCHAR&#125;,
        &lt;/if&gt;
        &lt;if test=&quot;isDelete != null and isDelete != &#39;&#39;&quot;&gt;
            #&#123;isDelete,jdbcType=VARCHAR&#125;,
        &lt;/if&gt;
    &lt;/trim&gt;
&lt;/sql&gt;
</code></pre>
<p>isDeletedçš„ä½œç”¨</p>
<p>WHERE xxx IN ( xx, xxx ,x x)å¯ä»¥åŒ¹é…å¤šä¸ªå€¼</p>
<p>åŠ¨æ€sqlç¤ºä¾‹ï¼š</p>
<pre><code>&lt;select id=&quot;selectFuncTreeList&quot; parameterType=&quot;com.pty.pa.security.entity.vo.AppFunctionTree&quot; resultType=&quot;com.pty.pa.security.entity.vo.AppFunctionTree&quot;&gt;
&lt;è§ä¸‹
      &lt;where&gt;
          &lt;if test=&quot;excludeList.size() &gt; 0&quot;&gt;
              and APP_ID not in
              &lt;foreach collection=&quot;excludeList&quot; item=&quot;appId&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;
                  #&#123;appId&#125;
              &lt;/foreach&gt;
          &lt;/if&gt;
      &lt;/where&gt;
      order by FUNC_CODE asc
  &lt;/select&gt;
</code></pre>
<p>select</p>
<pre><code>SELECT  FUNC_CODE AS id, FUNC_NAME AS NAME,
CASE
WHEN PARENT_FUNC_CODE IS NULL THEN APP_ID    
WHEN PARENT_FUNC_CODE = &#39;&#39;    THEN APP_ID   #ä»è¡¨ä¸­æ ¹æ®æ¡ä»¶æŸ¥è¯¢å‡º 
ELSE  PARENT_FUNC_CODE  END AS pid,       #å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œå°†å…¶ä½œä¸ºpid,ENDè¡¨ç¤ºç»ˆæ­¢ï¼Œcase-endè¯­å¥ç»“æŸåå†ç»™è¯­å¥ä¸­æŸ¥è¯¢å‡ºçš„APP_IDèµ·åˆ«å
APP_ID AS appId, IS_DISABLE as isDisable
FROM afa_app_function
</code></pre>
<p>selectVoByRoleCodeList</p>
<pre><code>SELECT menuId,parentMenuId,menuName,menuParam,menuUrl,isLeaf,menuLevel,isShow,menuSeq,funcCode,appId,func_code,
sort_no,sfBlank,field01 FROM
 (
# æµ‹è¯•åº“ä¸­å­˜åœ¨å¤§é‡é‡å¤å­—æ®µï¼Œåˆ é™¤ç„¶ååˆ¤æ–­æ˜¯å¦æ˜¾ç¤º
SELECT DISTINCT m.MENU_ID AS menuId,
     m.PARENT_MENU_ID AS parentMenuId,
     m.MENU_NAME AS menuName,
     m.MENU_PARAM AS menuParam,
     m.MENU_URL AS menuUrl, m.IS_LEAF AS isLeaf,
     m.MENU_LEVEL AS menuLevel,
     ( CASE WHEN m.IS_SHOW IS NULL THEN 1 ELSE m.IS_SHOW END ) AS isShow,m.MENU_SEQ AS menuSeq,f.FUNC_CODE AS funcCode, f.APP_ID AS appId,m.func_code,m.sort_no,m.sf_blank AS sfBlank,m.field01 AS field01 FROM AFA_APP_MENU m
        LEFT JOIN AFA_APP_FUNCTION f ON m.FUNC_CODE = f.FUNC_CODE
        LEFT JOIN AFA_AUTH_FUNCTION af ON f.FUNC_CODE = af.FUNC_CODE
        WHERE af.PARTY_CODE IN
        &lt;foreach collection=&quot;roleList&quot; open=&quot;(&quot; separator=&quot;,&quot;
                 close=&quot;)&quot; item=&quot;item&quot;&gt;
            #&#123;item.roleCode&#125;
        &lt;/foreach&gt;
        &lt;if test=&quot;fiscal != null and fiscal !=&#39;&#39;&quot;&gt;
            AND af.fiscal=#&#123;fiscal,jdbcType=INTEGER&#125;
        &lt;/if&gt;
        AND (m.IS_DELETE IS NULL OR m.IS_DELETE != 1)
        AND (f.IS_DELETE IS NULL OR f.IS_DELETE != 1)
        AND (m.IS_DISABLE = &#39;0&#39; or m.IS_DISABLE is NULL)
        AND (af.IS_DELETE IS NULL OR af.IS_DELETE != 1)
        &lt;if test=&quot;menuFilter != null and menuFilter !=&#39;&#39;&quot;&gt;
            AND m.menu_id=#&#123;menuFilter,jdbcType=VARCHAR&#125;
        &lt;/if&gt;
        ) t
        ORDER BY
        CASE
        WHEN LENGTH( t.menuSeq ) &gt; 14 THEN
        LEFT ( t.menuSeq, LENGTH( t.menuSeq ) - INSTR( REVERSE( t.menuSeq ), &#39;-&#39; ) ) ELSE t.menuSeq
        END,
        t.sort_no
    &lt;/select&gt;
</code></pre>
<p>ç”±äºMybatisçš„æœºåˆ¶é—®é¢˜ï¼Œæ•°æ®åº“æ— æ³•ç›´æ¥æ¥æ”¶Javaå¯¹è±¡çš„å±æ€§ä¸ºç©ºå€¼ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨mybatis-plusçš„@TableFiledæ³¨è§£ã€‚ä¸è¿‡åœ¨ptyåˆ¶åº¦ä¸Šä¼ æ—¶ä¸èµ·ä½œç”¨ã€‚</p>
<p>æ­¤æ—¶æ¯”è¾ƒå¥½çš„å¤„ç†æ–¹å¼ï¼ˆæ— éœ€å¼•å…¥ä¾èµ–ï¼‰ï¼Œæ˜¯åœ¨daoå±‚å¦å†™ä¸€ä¸ªé’ˆå¯¹è¿™äº›ç©ºå­—æ®µçš„æ–¹æ³•ï¼Œåœ¨xmlä¸­å°†è¿™äº›å­—æ®µè®¾ä¸ºnullï¼Œç„¶ååœ¨Serviceå±‚è°ƒç”¨ã€‚</p>
<p>å¤šè¡¨æŸ¥è¯¢</p>
<pre><code>&lt;select id=&quot;selectAgyUser&quot; parameterType=&quot;com.pty.pa.security.entity.PtyRole&quot;
        resultType=&quot;com.pty.pa.security.entity.vo.PtyRoleVo&quot;&gt;
    select o.ORG_CODE as agyCode,o.ORG_NAME as agyName,us.USER_CODE as
    userCode,us.USER_NAME as userName from
    afa_role ro
    left join afa_auth_party au on ro.ROLE_CODE = au.ROLE_CODE
    left join afa_user us on au.PARTY_CODE = us.USER_CODE
    left join afa_org o on us.MAIN_ORGID = o.ORG_ID
    left join mad_afa_org mao on o.ORG_ID = mao.afa_org_id
</code></pre>
<p>Daoå±‚ä¼ xmlå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå‚æ•°ï¼Œä»¥Mapçš„å½¢å¼</p>
<p>sqléå†åˆ—è¡¨</p>
<pre><code>&lt;select id=&quot;selectByOrgIdList&quot; resultType=&quot;com.pty.pa.security.entity.PtyOrgUser&quot;&gt;
    SELECT us.RELAT_ID         as relatId,
           us.APP_ID           as appId,
           us.IS_DELETE        as isDelete,
           us.IS_MAIN          as isMain,
           us.LAST_MODIFY_TIME as lastModifyTime,
           us.ORG_ID           as orgId,
           us.TENANT_ID        as tenantId,
           us.USER_CODE        as userCode
    FROM afa_org_user us
    WHERE us.ORG_ID IN
    &lt;foreach collection=&quot;orgIdList&quot; index=&quot;index&quot; item=&quot;orgId&quot;
             open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;
        #&#123;orgId&#125;
    &lt;/foreach&gt;
      and fiscal = $&#123;fiscal&#125;
&lt;/select&gt;
</code></pre>
<p>æŸ¥è¯¢ç»„ç»‡åˆ—è¡¨</p>
<pre><code>&lt;select id=&quot;selectByIds&quot; parameterType=&quot;java.util.List&quot; resultType=&quot;com.pty.pa.security.entity.PtyOrg&quot;&gt;
    SELECT
    &lt;include refid=&quot;allColumnAlias&quot;/&gt;
    FROM afa_org
    WHERE ORG_ID IN
    &lt;trim suffixOverrides=&quot; OR ORG_ID IN ()&quot;&gt;
        &lt;foreach item=&quot;id&quot; index=&quot;index&quot; collection=&quot;list&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;
            &lt;if test=&quot;index != 0&quot;&gt;
                &lt;choose&gt;
                    &lt;when test=&quot;index % 1000 == 999&quot;&gt;)
                        OR ORG_ID IN (
                    &lt;/when&gt;
                    &lt;otherwise&gt;,&lt;/otherwise&gt;
                &lt;/choose&gt;
            &lt;/if&gt;
            #&#123;id&#125;
        &lt;/foreach&gt;
    &lt;/trim&gt;
&lt;/select&gt;
</code></pre>
<p>SQLæŸ¥è¯¢å«æœ‰è‹±æ–‡å­—æ¯çš„å­—æ®µREGEXPâ€™[a-z]+â€™ï¼Œ</p>
<pre><code>ALTER TABLE t_user ADD COLUMN user_age int(11) DEFAULT NULL COMMENT &#39;å¹´é¾„&#39; AFTER user_email;
</code></pre>
<p>ä¸è¦ç›´æ¥åœ¨*mapper.xmlä¸­ç”¨æ³¨é‡Šæ³¨é‡Šæ‰sqlè¯­å¥ï¼Œç¼–è¯‘æ—¶ä¼šå¼•èµ·å‚æ•°é—®é¢˜ï¼Œå®é™…è¿™æ˜¯ç¼–ç è§„èŒƒæ€§é—®é¢˜</p>
<p>åˆ é™¤</p>
<pre><code>DELETE 
FROM
    afa_auth_resource 
WHERE
    resource_id IN (
    SELECT
        resource_id 
    FROM
        (
        SELECT
            MAX( RESOURCE_ID ) RESOURCE_ID,
            PARTY_CODE,
            resource_name,
            func_code,
            resource_code 
        FROM
            afa_auth_resource
        WHERE
            party_code = &#39;800&#39; 
        GROUP BY
            resource_name,
            resource_code,
            func_code,
            PARTY_CODE 
        HAVING
            COUNT( 1 )&gt; 1 
        ) t 
    )
select COLUMN_NAME, CONSTRAINT_NAME, REFERENCED_COLUMN_NAME, REFERENCED_TABLE_NAME
from information_schema.KEY_COLUMN_USAGE
where TABLE_NAME = &#39;mad_infunc&#39;;
</code></pre>
<h4 id="å…¼å®¹æ€§é—®é¢˜"><a href="#å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="å…¼å®¹æ€§é—®é¢˜"></a>å…¼å®¹æ€§é—®é¢˜</h4><p>æ•°æ®åº“ï¼ˆOracle)å…³é”®å­—å†²çªé—®é¢˜ï¼Œäººå¤§é‡‘ä»“å…¼å®¹é—®é¢˜ï¼ˆâ€˜â€™ä¸â€œâ€)</p>
<h4 id="æ‰¹é‡æ›´æ–°"><a href="#æ‰¹é‡æ›´æ–°" class="headerlink" title="æ‰¹é‡æ›´æ–°"></a>æ‰¹é‡æ›´æ–°</h4><pre><code>&lt;update id=&quot;updateBatchSortNo&quot; parameterType=&quot;com.pty.pa.security.entity.vo.PtyAppMenuVo&quot;&gt;
    update afa_app_menu
    &lt;trim prefix=&quot;set&quot; suffixOverrides=&quot;,&quot;&gt;
        &lt;trim prefix=&quot;sort_no =case&quot; suffix=&quot;end,&quot;&gt;
            &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot;&gt;
                &lt;if test=&quot;item.sortNo != null&quot;&gt;
                    when MENU_ID=#&#123;item.menuId&#125; then #&#123;item.sortNo&#125;
                &lt;/if&gt;
            &lt;/foreach&gt;
        &lt;/trim&gt;
    &lt;/trim&gt;
    where MENU_ID in
    &lt;foreach collection=&quot;list&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot; item=&quot;item&quot; index=&quot;index&quot;&gt;
        #&#123;item.menuId&#125;
    &lt;/foreach&gt;
&lt;/update&gt;
</code></pre>
<p>Oracleè¿æ¥<a href="https://gitee.com/link?target=https://www.cnblogs.com/bingdaocaihong/p/10268861.html">https://www.cnblogs.com/bingdaocaihong/p/10268861.html</a></p>
<p>joinå’Œleft join</p>
<p>Join:ä¸¤å¼ è¡¨å…³è”åï¼ŒæŸ¥è¯¢ç»“æœæœ‰äº¤é›†æ—¶æ‰ä¼šå–å€¼ã€‚</p>
<p>Left Joinï¼šä¸¤å¼ è¡¨å…³è”åï¼Œå³ä½¿æŸ¥è¯¢ç»“æœæ²¡æœ‰äº¤é›†ï¼Œä¹Ÿä¼šå–å€¼ã€‚æ— æ•°å€¼æ—¶ç”¨Nullå¡«å……ã€‚ä¼šè¿”å›å·¦è¡¨ä¸­æ‰€æœ‰è¡Œå’Œå³è¡¨ä¸­ç¬¦åˆæ¡ä»¶çš„è¡Œ</p>
<p>èƒ½å¤Ÿå‘ç°åœ¨ LEFT JOIN æ¨¡å¼ä¸‹ï¼Œ ON è¿‡æ»¤æ¡ä»¶ç›¸å½“äºåªå¢åŠ äº†å¯¹äºå³ä¾§è¡¨çš„è¿‡æ»¤æ¡ä»¶ï¼Œè€Œå·¦ä¾§è¡¨çš„å†…å®¹ï¼Œæ€»æ˜¯ä¼šå…¨éƒ¨è¿”å›çš„ã€‚</p>
<p>å¦ï¼šä»è¿™é‡Œå¼•ç”³å‡ºäº†MySQLè¿™ç§å…³ç³»å‹æ•°æ®åº“ï¼Œå…¶å®è¿æ¥æŸ¥è¯¢æ­£æ˜¯è¿™ç§æ•°æ®åº“åŒºåˆ«äºæ–‡æ¡£å‹çš„ç‰¹ç‚¹ï¼Œå› ä¸ºæœ‰è¿™ç§è¿æ¥æŸ¥è¯¢å› æ­¤å¼€å§‹ä¸çŸ¥é“å„ä¸ªè¡¨é—´çš„å…³ç³»ä¹Ÿæ²¡å…³ç³»ï¼ˆå½“ç„¶è¿™å¥è¯çš„åº”è¯¥æ˜¯è¯´æ²¡å¿…è¦å®Œå…¨çŸ¥é“è€Œä¸æ˜¯ä¸€ç‚¹éƒ½ä¸çŸ¥é“ï¼‰ã€‚</p>
<p>çº¦æŸ</p>
<h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><p>lambdaè¡¨è¾¾å¼â€”â€”å…è®¸å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œå…¶é‡è¦ç‰¹å¾å¦‚ä¸‹:</p>
<ul>
<li><strong>å¯é€‰ç±»å‹å£°æ˜ï¼š</strong>ä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚</li>
<li><strong>å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼š</strong>ä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚</li>
<li><strong>å¯é€‰çš„å¤§æ‹¬å·ï¼š</strong>å¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚</li>
<li><strong>å¯é€‰çš„è¿”å›å…³é”®å­—ï¼š</strong>å¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šæ˜è¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚</li>
</ul>
<p>Optionalç±»</p>
<p>streamæµï¼šç”Ÿæˆçš„streamä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯æŸç§æ•°æ®æºçš„ä¸€ä¸ªè§†å›¾ã€‚å³å¯¹å…¶çš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šå¯¹åŸæ•°æ®é€ æˆå½±å“ã€‚</p>
<p>ä¸é›†åˆï¼ˆå¦‚Listï¼‰å’ŒMapçµæ´»ç»“åˆã€‚</p>
<ul>
<li><p>forEach()ï¼šè¿­ä»£æµä¸­çš„æ¯ä¸ªæ•°æ®ã€‚</p>
</li>
<li><p>mapï¼ˆï¼‰ï¼šæ˜ å°„æ¯ä¸ªå…ƒç´ åˆ°å¯¹åº”ç»“æœã€‚</p>
</li>
<li><p>filterï¼ˆï¼‰ï¼šè®¾ç½®æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´ </p>
</li>
<li><p>Collectors():å°†æµè½¬æ¢ä¸ºé›†åˆå’Œèšåˆå…ƒç´ ã€‚å¯ç”¨äºè¿”å›åˆ—è¡¨æˆ–å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>distinct() å»é‡</p>
</li>
<li><pre><code>// æŒ‰ç…§userCodeå¯¹ç”¨æˆ·åˆ†ç»„
Map&lt;String, List&lt;PtyOrgUser&gt;&gt; userOrgMap =userOrgList.stream().collect(groupingBy(PtyOrgUser::getUserCode));
// ä»mapä¸­å–å‡ºentry éå†æŒ‡å®šæ¡ä»¶
List&lt;Map.Entry&lt;String, List&lt;PtyOrgUser&gt;&gt;&gt; singleOrgList = userOrgMap.entrySet().stream().filter(e -&gt; e.getValue().size() == 1).collect(toList());
// è¿‡æ»¤ å–å‡ºé¦–ä¸ªç¬¦åˆæ¡ä»¶
PtyOrgUser orgUser = multipleUserOrgList.stream().filter(ptyOrgUser -&gt;StrUtil.equals(ptyOrgUser.getIsMain(), &quot;N&quot;)).findFirst().get();

// findAny orElse
keyValueList.stream().filter(kv -&gt; &#123;return key.equals(kv.getKey());&#125;).findAny().orElse(KeyValue.create(&quot;&quot;, &quot;&quot;)).getValue();
</code></pre>
</li>
</ul>
<p>ç¼“å­˜é—®é¢˜</p>
<p>å˜æˆåˆ—è¡¨ï¼š</p>
<pre><code>List&lt;String&gt; arr = Arrays.asList(excludeStr.split(&quot;,&quot;))

æ ‘å½¢æ•°æ®



Springäº‹åŠ¡

â€‹```java
@Transactional(value = &quot;boss-transactionManager&quot;, rollbackFor = RuntimeException.class)
</code></pre>
<p>æ–‡ä»¶æµ</p>
<pre><code>public static &lt;T extends Serializable&gt; T deepCopy(T obj) &#123;
   T copyObj = null;
   try &#123;
      ByteArrayOutputStream bos = new ByteArrayOutputStream();
      ObjectOutputStream oos = new ObjectOutputStream(bos);
      oos.writeObject(obj);
      oos.close();

      ByteArrayInputStream bais = new ByteArrayInputStream(bos.toByteArray());
      ObjectInputStream ois = new ObjectInputStream(bais);
      copyObj = (T) ois.readObject();
      ois.close();
   &#125; catch (Exception e) &#123;
      e.printStackTrace();
   &#125;
   return copyObj;
&#125;
</code></pre>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=" alt="image-20210812175252445"></p>
<p>authRoleResourceè¿”å›ç»“æœ</p>
<h4 id="é›†åˆ-1"><a href="#é›†åˆ-1" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h4><p>CollectionUtilä¸­çš„collectAllæ–¹æ³•åº”è¯¥æ˜¯ç”¨åˆ°äº†å¯å˜å‚æ•°ï¼ŒæŠŠåˆ—è¡¨ä½œä¸ºåˆ—è¡¨ä¸­çš„å…ƒç´ </p>
<p>é¡¹ç›®ä¸­å¤§é‡ç”¨åˆ°äº†extends</p>
<p>Lists Listçš„é›†åˆï¼Ÿï¼Ÿ</p>
<p>åˆ†æ‰¹å¤„ç†List</p>
<pre><code>public static boolean hasLogin(String user) &#123;
    // æ˜¯å¦å·²ç™»å½•  ï¼Ÿï¼Ÿï¼Ÿ ï¼
   if (!CloudUtil.onCloud()) &#123;
      return users.contains(user);
   &#125; else &#123;
      return false;
   &#125;
&#125;
</code></pre>
<p>enum</p>
<p>Jackson:å¯¹è±¡ä¸Jsonå­—ç¬¦ä¸²ç›¸äº’è½¬åŒ–çš„ç±»ï¼Œå…¶ä¸­ç”¨readValue()å­—ç¬¦ä¸²è½¬å¯¹è±¡ ååºåˆ—åŒ–</p>
<p>JavaType è®¾å®šä¸€ä¸ªJavaç±»</p>
<p>ä½¿ç”¨ObjectMapperåºåˆ—åŒ–</p>
<pre><code>JavaType javaType = objectMapper.getTypeFactory().constructParametricType(List.class, PaUserMenuVo.class);
</code></pre>
<p>@Bean <a href="https://gitee.com/link?target=https://mp.weixin.qq.com/s/iu7b1bYwz9AI3OOqthynNA">https://mp.weixin.qq.com/s/iu7b1bYwz9AI3OOqthynNA</a></p>
<pre><code>List&lt;String&gt; roleIds = roleList.stream().sorted(Comparator.comparing(PtyRole::getRoleId))
      .map(PtyRole::getRoleId).collect(Collectors.toList());
</code></pre>
<p><a href="https://gitee.com/link?target=https://mp.weixin.qq.com/s/72s475xa-UvQsavIXpPoMg">https://mp.weixin.qq.com/s/72s475xa-UvQsavIXpPoMg</a> Streamæµè¯¦è§£</p>
<p>å‘åˆ—è¡¨ä¸­åŠ å…¥äº›å€¼ï¼ˆä¸ªåˆ«ç±»çš„æºç å°±æ˜¯è¿™ä¹ˆæçš„æ¯”å¦‚è¯´CronExpression)</p>
<pre><code>private static List&lt;String&gt; HEAD_MAPPER = new ArrayList&lt;&gt;();
static &#123;
    //jpg
    HEAD_MAPPER.add(&quot;FFD8FF&quot;);
    HEAD_MAPPER.add(&quot;XXXX&quot;);
</code></pre>
<p>CopyOnWriteArrayListï¼šå¹¶å‘é›†åˆç±»æ¥é¿å…ConcurrentModificationException</p>
<pre><code>authResourceIdList.forEach(stringPtyAppResourceMap::remove);
</code></pre>
<p>ä¸€èˆ¬è¿”å›çš„æ—¶å€™ä¼šç”¨è¿™ä¸ª Arrays.asList() ä½†æ˜¯è¿™æ ·å»äº§ç”Ÿçš„åˆ—è¡¨æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œéœ€è¦æ³¨æ„ä¸Šå±‚æ¥å£åœ¨è°ƒç”¨æ–¹æ³•æ—¶å¦‚æœè¿”å›è¿™ä¸ªå†å»ä¿®æ”¹è‚¯å®šä¼šæœ‰é—®é¢˜ã€‚</p>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=" alt="image-20210827173636242"></p>
<p>æ‰€è°“å“ˆå¸Œè¡¨ï¼Œå°±æ˜¯æ•°ç»„+é“¾è¡¨ã€‚â€”â€”å¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°è¿‡,</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><pre><code>//åˆ†ç»„ åˆ—è¡¨è½¬map
Map&lt;String, List&lt;PtyOrgUser&gt;&gt; userOrgMap = userOrgList.stream().collect(groupingBy(PtyOrgUser::getUserCode));
</code></pre>
<p>values()</p>
<p>entrySet()</p>
<p>keySet()</p>
<p>Map.Entry()</p>
<p>éå†Mapï¼šentry å…¶å®å°±æ˜¯ä¸€ä¸ªkey-value</p>
<pre><code>//ç¬¬ä¸€ç§ï¼šæ™®éä½¿ç”¨ï¼ŒäºŒæ¬¡å–å€¼
  System.out.println(&quot;é€šè¿‡Map.keySetéå†keyå’Œvalueï¼š&quot;);
  for (String key : map.keySet()) &#123;
   System.out.println(&quot;key= &quot;+ key + &quot; and value= &quot; + map.get(key));
  &#125;
  
  //ç¬¬äºŒç§
  System.out.println(&quot;é€šè¿‡Map.entrySetä½¿ç”¨iteratoréå†keyå’Œvalueï¼š&quot;);
  Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = map.entrySet().iterator();
  while (it.hasNext()) &#123;
   Map.Entry&lt;String, String&gt; entry = it.next();
   System.out.println(&quot;key= &quot; + entry.getKey() + &quot; and value= &quot; + entry.getValue());
  &#125;
  
  //ç¬¬ä¸‰ç§ï¼šæ¨èï¼Œå°¤å…¶æ˜¯å®¹é‡å¤§æ—¶
  System.out.println(&quot;é€šè¿‡Map.entrySetéå†keyå’Œvalue&quot;);
  for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) &#123;
   System.out.println(&quot;key= &quot; + entry.getKey() + &quot; and value= &quot; + entry.getValue());
  &#125;
 
  //ç¬¬å››ç§
  System.out.println(&quot;é€šè¿‡Map.values()éå†æ‰€æœ‰çš„valueï¼Œä½†ä¸èƒ½éå†key&quot;);
  for (String v : map.values()) &#123;
   System.out.println(&quot;value= &quot; + v);
  &#125;
</code></pre>
<p>é›†åˆè½¬Map .collectæ˜¯è½¬æ¢çš„æ–¹æ³•æŒ‡å®šè½¬æ¢æˆä»€ä¹ˆ</p>
<pre><code>Map&lt;String, String&gt; userCodeMainOrgIdMap = ptyUserList.stream().collect(Collectors.toMap(PtyUser::getUserCode, PtyUser::getMainOrgid));
</code></pre>
<p>Mapå…¶å®ä¹Ÿå¯ä»¥ç›´æ¥è½¬æˆå¯¹è±¡ï¼Œå¦‚ï¼š å…¶å®è¿™é‡Œåæ¥å¯ä»¥ç”¨JsonObjectï¼ŒJsonObjectçœ‹æºç å…¶å®æ˜¯å¯¹mapçš„å®ç°</p>
<pre><code>Map userMap = (Map) addObj.get(&quot;ptyUser&quot;);  //å‰ææ˜¯æ¥æ”¶å‰ç«¯
PtyUser ptyUser = new PtyUser();
BeanUtils.copyProperties(ptyUser, userMap);
</code></pre>
<p>æ­£å‘ä»£ç†ï¼šæœåŠ¡ç«¯ä¸çŸ¥é“å®¢æˆ·ç«¯ï¼Œä»£ç†çš„æ˜¯å®¢æˆ·ç«¯</p>
<p>åå‘ä»£ç†ï¼šå®¢æˆ·ç«¯ä¸çŸ¥é“æœåŠ¡æä¾›è€…ï¼Œä»£ç†çš„æ˜¯æœåŠ¡ç«¯ï¼ˆå¦‚Nginx</p>
<p>ä¸€åˆ‡éƒ½å¯ä»¥é‡å†™ã€‚ è·å–å±æ€§ â€“æ€è·¯å¤ªæ­»æ¿ï¼Œå…¶å®è¿˜æ˜¯æŠ€æœ¯æ°´å¹³é—®é¢˜</p>
<p>å®ä½“ç±»æ˜¯å¤§æœ‰å¯ä¸ºçš„ï¼Œ ä¸æ˜¯ä»…é™äºå¯¹å±æ€§çš„å°è£…å’Œset&amp;get</p>
<h3 id="ä»£ç ä¼˜åŒ–"><a href="#ä»£ç ä¼˜åŒ–" class="headerlink" title="ä»£ç ä¼˜åŒ–"></a>ä»£ç ä¼˜åŒ–</h3><p>Listæ ¹æ®ç‰¹å®šå­—æ®µæ’åº è¿™æ ·ä¼šé€ æˆå†…å­˜çš„æµªè´¹</p>
<pre><code>return menuVoList.stream().sorted(Comparator.comparing(PtyAppMenuVo::getSortNo)).collect(Collectors.toList());
</code></pre>
<p>å å†…å­˜å¤ªå¤§ï¼Œå»ºè®®ç”¨Collection.sort()</p>
<pre><code>if (o1.getSortNo() == null) &#123;
        o1.setSortNo(Integer.MAX_VALUE);
        if (o2.getSortNo() == null) &#123;
            o2.setSortNo(Integer.MAX_VALUE);
            return 0;
        &#125;
        return o2.getSortNo() - o1.getSortNo();
    &#125;
    if (o2.getSortNo() == null) &#123;
        o2.setSortNo(Integer.MAX_VALUE);
        if (o1.getSortNo() == null) &#123;
            o1.setSortNo(Integer.MAX_VALUE);
            return 0;
        &#125;
        return o1.getSortNo() - o2.getSortNo();
    &#125;
    if (o1.getSortNo() == null &amp;&amp; o2.getSortNo() == null) &#123;
        o1.setSortNo(Integer.MAX_VALUE);
        o2.setSortNo(Integer.MAX_VALUE);
        return 0;
    &#125;
    return -1;
&#125;
</code></pre>
<p>ä¸‰å…ƒè¡¨è¾¾å¼ï¼šé€šè¿‡ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œåœ¨å¯¹å€¼è¿›è¡Œåˆ¤æ–­æ—¶å¯ä»¥å¾—åˆ°ä»»ä½•æƒ³è¦çš„ã€‚</p>
<pre><code>Collections.sort(menuVoList, new Comparator&lt;PtyAppMenuVo&gt;() &#123;
    @Override
    public int compare(PtyAppMenuVo o1, PtyAppMenuVo o2) &#123;
        int no1 = o1.getSortNo() == null ? Integer.MAX_VALUE : o1.getSortNo();
        int no2 = o2.getSortNo() == null ? Integer.MAX_VALUE : o2.getSortNo();
        return no1 - no2;

    &#125;
&#125;);
</code></pre>
<p>æ—¥å¿—é—®é¢˜ä¹Ÿè¦æ³¨æ„</p>
<p>ç¼“å­˜ä¹Ÿä¼šå¸¦æ¥é—®é¢˜</p>
<p>Beançš„è·å– åå°„</p>
<pre><code>OrgService proxyBean = SpringUtil.getBean(OrgService.class);
//é€šè¿‡classè·å–Bean.
    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz)&#123;
        return getApplicationContext().getBean(clazz);
    &#125;
</code></pre>
<p>æ ‘çš„éé€’å½’éå†ï¼ˆæš‚æ—¶çœ‹ä¸å‡ºæ¥é€Ÿåº¦çš„æå‡ä½†æ˜¯ç”±äºæ–°å»ºäº†å†…å­˜ï¼Œä»¥ç©ºé—´çš„ç‰ºç‰²ä¸€å®šèƒ½æ¢å–æ—¶é—´</p>
<pre><code>/*
 *é€’å½’å½¢å¼
 */
private void getOrgWithChildren(List&lt;PtyOrg&gt; orgList, DyAgency agency) &#123;
    PtyOrg org = agency.toPtyOrg();
    List&lt;DyAgency&gt; childrenList = agency.getChildren();
    orgList.add(org);
    if (CollectionUtil.isNotEmpty(childrenList)) &#123;
        for (DyAgency child : childrenList) &#123;
            getOrgWithChildren(orgList, child);
        &#125;
    &#125;
&#125;

/*
 *ç”¨æ ˆå®ç°æ·±åº¦éå†ï¼Œç”¨é˜Ÿåˆ—å®ç°å¹¿åº¦éå†
 */
 private void getOrgWithStack(Stack&lt;DyAgency&gt; agyStack, List&lt;PtyOrg&gt; orgList) &#123;
        // å¼€å§‹å†™çš„æ–¹æ³•ä¸è¡Œï¼Œå¯¼è‡´æ ˆpopå‡ºçš„åˆpushè¿›ï¼ŒåŸå› æ˜¯æ²¡æœ‰ç†è§£å¯¹è±¡çš„ç”Ÿæˆä¸å­˜å‚¨
     //è¿™é‡Œè¦æ³¨æ„ï¼Œè¿›å…¥Stackæºç ä¸­å‘ç°å…¶æ–¹æ³•åŠ äº†ä¸ªsynchronizedè¿™ä¼šå¯¼è‡´æ—¶é—´ä¸Šçš„æŸè€—å› æ­¤è¿™ç§
     //æ–¹å¼å¾ˆå¯èƒ½ä¸ä¼šè·å¾—é€Ÿåº¦ä¸Šçš„æå‡ï¼Œè§‚å¯Ÿé˜Ÿåˆ—æºç æ²¡æœ‰è¿™ä¸ªä¿®é¥°ç¬¦å› æ­¤æˆ‘ä»¬æš‚ä¸”è®¤ä¸ºé˜Ÿåˆ—çš„å®ç°æ›´å¥½
        while (!agyStack.isEmpty()) &#123;
            DyAgency agency = agyStack.pop();
            PtyOrg org = agency.toPtyOrg();
            orgList.add(org);
            // æ¯æ¬¡éƒ½ç»è¿‡è¿™é‡Œ å–å¾—æ°¸è¿œæ˜¯agencyçš„children
            List&lt;DyAgency&gt; agencies = agency.getChildren();
            if (CollectionUtil.isNotEmpty(agencies)) &#123;
                for (DyAgency child : agencies) &#123;
                    agyStack.push(child);
                &#125;
            &#125;
        &#125;
    &#125;
</code></pre>
<p>å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡çš„å®‰æ’å¯¹äºç¨‹åºçš„æ•ˆç‡å’Œå®‰å…¨éƒ½æ˜¯æœ‰å½±å“çš„ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬åœ¨ä¸¤å±‚forå¾ªç¯ä¸­å»ç”¨åˆ°ä¸€ä¸ªå˜é‡ä¸ºä»€ä¹ˆè¦åœ¨é‡Œé¢åˆå§‹åŒ–å‘¢è¿™æ ·æ¯æ¬¡å¾ªç¯éƒ½è¦å»åˆ›å»ºä¸€æ¬¡å˜é‡ã€‚</p>
<p>å¦å¤–ç±»çš„å…¨å±€å˜é‡å’Œæ–¹æ³•çš„å±€éƒ¨å˜é‡å¦‚æœä»JVMçš„è§’åº¦å»ç†è§£ï¼Œåº”è¯¥æ€ä¹ˆç†è§£ã€‚</p>
<p>æ–¹æ³•è‚¯å®šæ˜¯å‚¨å­˜åœ¨æ ˆä¸­ï¼Œä¸€ä¸ªæ–¹æ³•å°±å¯¹åº”ä¸€ä¸ªæ ˆå¸§ï¼Œå±€éƒ¨å˜é‡å­˜å‚¨åœ¨æ ˆå¸§ä¸­æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå…¨å±€å˜é‡å­˜å‚¨åœ¨å †é‡Œã€‚</p>
<p>è¦äº†è§£ä½¿ç”¨ç±»çš„apiï¼Œæ›´å¥½åœ°å»è°ƒç”¨æ¥å®ç°æƒ³è¦çš„éœ€æ±‚ã€‚</p>
<p>æ¯”å¦‚è¯´åœ¨mapä¸­ï¼Œmap.containsKeyï¼ˆï¼‰å¯ä»¥å»åˆ¤æ–­æ˜¯å¦å«æœ‰è¯¥keyçš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å»map.get(key) !&#x3D; 0 å»åˆ¤æ–­æ˜¯ä¸æ˜¯æœ‰å‘¢ï¼Œè¿™æ ·ä¼šé€ æˆç©ºæŒ‡é’ˆçš„é—®é¢˜ã€‚</p>
<p>å¦å¤–ï¼Œmap.put(num, map.getOrDefault(num, 0) + 1) åœ¨getOrDefaultï¼ˆï¼‰æ–¹æ³•ä¸­è‡ªä¼šå»åˆ¤æ–­è¿™ä¸ªnumå¯¹åº”çš„valueæˆ‘ä»¬å»ç›´æ¥ç”¨ifï¼ˆmap.containsKey()) å†å»else è¿™æ ·å­ä¼šæ›´å¥½å—ï¼Ÿ</p>
<h3 id="æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ"><a href="#æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ" class="headerlink" title="æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ"></a>æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ</h3><pre><code>/**
 * @Author: Li Yf
 * @Create: 2021/8/6 14:31
 * @Version: 1.0
 * @Description:
 */
public class MainApp &#123;
    public static void main(String[] args) &#123;
        DataSource dataSource = getDataSource();
        // è·å–åº“æ–‡æ¡£ç”Ÿæˆé…ç½®
        EngineConfig engineConfig = getEngineConfig();
        // è·å–æ•°æ®åº“è¡¨çš„å¤„ç†é…ç½®ï¼Œå¯å¿½ç•¥
//        ProcessConfig processConfig = getProcessConfig();
        // Screwå®Œæ•´é…ç½®
        Configuration config = getScrewConfig(dataSource, engineConfig);
        // æ‰§è¡Œç”Ÿæˆæ•°æ®åº“æ–‡æ¡£
        new DocumentationExecute(config).execute();
    &#125;

    // æ•°æ®åº“æº
    private static DataSource getDataSource() &#123;
        // æ•°æ®æº
        HikariConfig hikariConfig = new HikariConfig();
        hikariConfig.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        hikariConfig.setJdbcUrl(&quot;jdbc:mysql://192.168.2.121:33308/boss?serverTimezone=CTT&quot;);
        hikariConfig.setUsername(&quot;test&quot;);
        hikariConfig.setPassword(&quot;J3A*&amp;dnda@LO^@DF&quot;);
        // è®¾ç½®å¯ä»¥è·å–tables remarké…ç½®
        hikariConfig.addDataSourceProperty(&quot;useInformationSchema&quot;, &quot;true&quot;);
        hikariConfig.setMinimumIdle(2);
        hikariConfig.setMaximumPoolSize(5);
        return new HikariDataSource(hikariConfig);
    &#125;

    /**
     * è·å–æ–‡ä»¶ç”Ÿæˆé…ç½®
     */
    private static EngineConfig getEngineConfig() &#123;
        // ç”Ÿæˆé…ç½®
        return EngineConfig.builder()
                // é»˜è®¤å­˜æ”¾åœ¨é¡¹ç›®docç›®å½•ä¸‹
                .openOutputDir(true)
                .fileType(EngineFileType.MD)
                .produceType(EngineTemplateType.freemarker)
                .fileName(&quot;æ•°æ®åº“ç»“æ„æ–‡æ¡£&quot;).build();
    &#125;

    /**
     *  è·å–æ•°æ®åº“è¡¨çš„å¤„ç†é…ç½®ï¼Œå¯å¿½ç•¥ å¯æŒ‡å®šç”Ÿæˆå“ªä¸ªè¡¨ å“ªäº›è¡¨ï¼ˆé€šè¿‡å¿½ç•¥æŸäº›è¡¨çš„æ–¹å¼ï¼‰
     */
//    private static ProcessConfig getProcessConfig() &#123;
   / ArrayList&lt;String&gt; ignoreTableName = new ArrayList&lt;&gt;();
    ignoreTableName.add(&quot;test_user&quot;);
    ignoreTableName.add(&quot;test_group&quot;);
    ArrayList&lt;String&gt; ignorePrefix = new ArrayList&lt;&gt;();
    ignorePrefix.add(&quot;test_&quot;);
    ArrayList&lt;String&gt; ignoreSuffix = new ArrayList&lt;&gt;();
    ignoreSuffix.add(&quot;_test&quot;); */
//        return ProcessConfig.builder()
//                .designatedTableName(new ArrayList&lt;&gt;(Collections.singleton(&quot;blog&quot;)))
//                .build();
//    &#125;

    /**
     * ç”Ÿæˆå®Œæ•´é…ç½®
     */
    private static Configuration getScrewConfig(DataSource dataSource, EngineConfig engineConfig) &#123;
        return Configuration.builder()
                .version(&quot;1.0.0&quot;)
                .description(&quot;æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ&quot;)
                .dataSource(dataSource)
                .engineConfig(engineConfig)
                .build();
    &#125;


&#125;
</code></pre>
<p>java -jar ptytools-1.0.0-SNAPSHOT.jar -db boss -f html</p>
<p>ä½¿ç”¨å‹ç¼©è½¯ä»¶æ‰“å¼€jaråŒ… åˆ é™¤ï¼šMETA-INFç›®å½•ä¸‹çš„é™¤äº†mainfest.mfï¼Œ.rsaåŠmavenæ–‡ä»¶å¤¹ ä»¥å¤–çš„å…¶ä»–æ‰€æœ‰æ–‡ä»¶</p>
<p>Optional è§£å†³ç©ºæŒ‡é’ˆé—®é¢˜</p>
<h3 id="ç±»ä¸æ³¨è§£"><a href="#ç±»ä¸æ³¨è§£" class="headerlink" title="ç±»ä¸æ³¨è§£"></a>ç±»ä¸æ³¨è§£</h3><p>SpringbootApplicationä¸@EnableAutoConfigurationçš„å†²çª</p>
<p>secrurityæ¨¡å—ä¸‹çš„</p>
<p>è§’è‰²ç®¡ç†é¡µé¢ï¼š</p>
<p>@RestSchema æ³¨è§£ ï¼šé€šè¿‡è®¾ç½®schemaIdé™åˆ¶ä½œç”¨èŒƒå›´ï¼Œç±»æ¯”ä¹‹å‰çš„@RestController</p>
<p>pubæ¨¡å—ä¸‹commonåŒ…çš„beanåŒ…ä¸‹çš„ParamBeançœ‹ä¸æ‡‚</p>
<p>@RestclientMapping</p>
<p>@JsonPropertyï¼šç”¨äºå±æ€§ä¸Šï¼Œä½œç”¨æ˜¯å°†è¯¥å±æ€§çš„åç§°åºåˆ—åŒ–ä¸ºå¦ä¸€ä¸ªåç§°ã€‚å¦‚useridâ€”&gt;idï¼Œæ­¤æ—¶å°½ç®¡åç«¯çš„å±æ€§åæ˜¯useridï¼Œä½†æ˜¯è¿”ç»™å‰ç«¯å‚æ•°å®é™…ä¸Šæ˜¯idã€‚ å…¶accesså±æ€§å¯æ§åˆ¶èƒ½å¦è¢«åºåˆ—åŒ–</p>
<p>å¦ï¼š@JsonIgnoreæŒ‡å®šçš„å±æ€§å¯ä»¥ä½¿å¾—Pojoåœ¨jsonåºåˆ—åŒ–æ—¶è¢«å¿½ç•¥æ‰ï¼Œå³ä¸ä¼šå°†æ•°æ®ä¼ ç»™å‰ç«¯ã€‚</p>
<p>è‡ªå®šä¹‰@MybatisDao ï¼Ÿï¼Ÿï¼Ÿæ„Ÿè§‰ä½œç”¨åƒæ˜¯@Mapper</p>
<p>èµ„æºç±»å‹buttonï¼Œå¯¹ç”¨æˆ·æƒé™çš„æ§åˆ¶ã€‚</p>
<p>@Transactional</p>
<ol>
<li>äº‹åŠ¡å¼€å§‹æ—¶ï¼Œé€šè¿‡AOPæœºåˆ¶ï¼Œç”Ÿæˆä¸€ä¸ªä»£ç†connectionå¯¹è±¡ï¼Œ å¹¶å°†å…¶æ”¾å…¥ DataSource å®ä¾‹çš„æŸä¸ªä¸ DataSourceTransactionManager ç›¸å…³çš„æŸå¤„å®¹å™¨ä¸­ã€‚ åœ¨æ¥ä¸‹æ¥çš„æ•´ä¸ªäº‹åŠ¡ä¸­ï¼Œå®¢æˆ·ä»£ç éƒ½åº”è¯¥ä½¿ç”¨è¯¥ connection è¿æ¥æ•°æ®åº“ï¼Œ æ‰§è¡Œæ‰€æœ‰æ•°æ®åº“å‘½ä»¤ã€‚ [ä¸ä½¿ç”¨è¯¥ connection è¿æ¥æ•°æ®åº“æ‰§è¡Œçš„æ•°æ®åº“å‘½ä»¤ï¼Œåœ¨æœ¬äº‹åŠ¡å›æ»šçš„æ—¶å€™å¾—ä¸åˆ°å›æ»š] ï¼ˆç‰©ç†è¿æ¥ connection é€»è¾‘ä¸Šæ–°å»ºä¸€ä¸ªä¼šè¯sessionï¼› DataSource ä¸ TransactionManager é…ç½®ç›¸åŒçš„æ•°æ®æºï¼‰</li>
<li>äº‹åŠ¡ç»“æŸæ—¶ï¼Œå›æ»šåœ¨ç¬¬1æ­¥éª¤ä¸­å¾—åˆ°çš„ä»£ç† connection å¯¹è±¡ä¸Šæ‰§è¡Œçš„æ•°æ®åº“å‘½ä»¤ï¼Œ ç„¶åå…³é—­è¯¥ä»£ç† connection å¯¹è±¡ã€‚ ï¼ˆäº‹åŠ¡ç»“æŸåï¼Œå›æ»šæ“ä½œä¸ä¼šå¯¹å·²æ‰§è¡Œå®Œæ¯•çš„SQLæ“ä½œå‘½ä»¤èµ·ä½œç”¨ï¼‰</li>
</ol>
<p>å…¶å®@Transactionalæ³¨è§£ç›¸å½“äºä¸€ä¸ªæ ‡è®°ï¼Œä¸€ä¸ªåˆ‡ç‚¹ï¼Œå®¹å™¨å¯åŠ¨æ—¶å°±çŸ¥é“äº†è¦åœ¨æ­¤è¿›è¡Œä»£ç†ï¼Œ</p>
<p>@Param</p>
<pre><code>// ç»™ç¼–è¯‘å™¨çš„æŒ‡ä»¤ å¯¹äºæŒ‡å®šä»£ç æ®µçš„æŸäº›è­¦å‘Šæ²‰é»˜ä¸åšå¤„ç†
@SuppressWarnings(&#123; &quot;unchecked&quot;, &quot;rawtypes&quot; &#125;)
</code></pre>
<p>HandlerMethod:è®¿é—®è¯·æ±‚æ–¹æ³•çš„æ—¶å€™å¯ä»¥æ–¹ä¾¿çš„è®¿é—®åˆ°æ–¹æ³•ã€æ–¹æ³•å‚æ•°ã€æ–¹æ³•ä¸Šçš„æ³¨è§£ã€æ‰€å±ç±»ç­‰å¹¶ä¸”å¯¹æ–¹æ³•å‚æ•°å°è£…å¤„ç†ï¼Œä¹Ÿå¯ä»¥æ–¹ä¾¿çš„è®¿é—®åˆ°æ–¹æ³•å‚æ•°çš„æ³¨è§£ç­‰ä¿¡æ¯ã€‚</p>
<p>@Bean</p>
<p>@RequestBody è§£æjsonä¸ºJavaBean</p>
<p>@ResponseBody å°†è¿”å›å€¼å†™å…¥Httpçš„å“åº”ä½“ä¸­ â€œThe <a href="https://gitee.com/link?target=https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html"><code>@ResponseBody</code></a> annotation tells Spring MVC not to render a model into a view but, rather, to write the returned object into the response body. â€ â€”â€”<a href="https://gitee.com/link?target=https://spring.io/guides/gs/actuator-service/">https://spring.io/guides/gs/actuator-service/</a></p>
<p>æ€»ç»“ï¼š</p>
<p>æ³¨è§£å…¶å®å°±æ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œæˆ‘ä»¬åœ¨åˆ«å¤„ä¼šåˆ©ç”¨åå°„å¯¹è¿™ä¸ªæ ‡è®°è¿›è¡Œåˆ¤å®šï¼Œæ¥å†³å®šè¿›è¡Œä»€ä¹ˆæ“ä½œã€‚</p>
<p>æ¯”å¦‚@Transactionalæ³¨è§£ï¼ŒSpringä¼šå¯¹æœ‰è¿™ä¸ªæ³¨è§£çš„æ–¹æ³•æˆ–ç±»è¿›è¡Œäº‹åŠ¡çš„æ“ä½œï¼ˆè¿™å¥è¯æè¿°çš„å¯èƒ½ä¸å¤Ÿè§„èŒƒæš‚æ—¶è¿™ä¹ˆè®¤ä¸º)ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬çš„é¡¹ç›®åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œç±»ä¼¼@XXXScanè¿™ç±»ç›´æ¥ä¼šå¯¹æœ‰ç‰¹å®šæ³¨è§£æ ‡è¯†çš„ç±»æ‰«æï¼Œç”±æ­¤ä¼šäº§ç”Ÿè®¸å¤šå…¶ä»–çš„é—®é¢˜ã€‚</p>
<h4 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><p>æœ‰ç‚¹åƒä¸€ä¸ªå·¥å‚ï¼Œï¼ˆå°±ç§°ä¹‹ä¸ºä½œåŠæ¨¡å¼å§</p>
<p>ä¸€ä¸ªæšä¸¾ä¸­å¯ä»¥æœ‰å¤šä¸ªæšä¸¾é¡¹ï¼ˆæŒ‡å®šå¥½çš„å®ä¾‹ï¼‰ï¼Œæšä¸¾æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»ï¼Œåé¢å†ç”Ÿæˆå¯¹è±¡æ—¶å…¶å®æ˜¯æšä¸¾é¡¹ã€‚</p>
<ul>
<li>int compareTo(E e)ï¼šæ¯”è¾ƒä¸¤ä¸ªæšä¸¾å¸¸é‡è°å¤§è°å°ï¼Œå…¶å®æ¯”è¾ƒçš„å°±æ˜¯æšä¸¾å¸¸é‡åœ¨æšä¸¾ç±»ä¸­å£°æ˜çš„é¡ºåºï¼Œä¾‹å¦‚FRONTçš„ä¸‹æ ‡ä¸º0ï¼ŒBEHINDä¸‹æ ‡ä¸º1ï¼Œé‚£ä¹ˆFRONTå°äºBEHINDï¼›</li>
<li>boolean equals(Object o)ï¼šæ¯”è¾ƒä¸¤ä¸ªæšä¸¾å¸¸é‡æ˜¯å¦ç›¸ç­‰ï¼›</li>
<li>int hashCode()ï¼šè¿”å›æšä¸¾å¸¸é‡çš„hashCodeï¼›</li>
<li>String name()ï¼šè¿”å›æšä¸¾å¸¸é‡çš„åå­—ï¼›</li>
<li>int ordinal()ï¼šè¿”å›æšä¸¾å¸¸é‡åœ¨æšä¸¾ç±»ä¸­å£°æ˜çš„åºå·ï¼Œç¬¬ä¸€ä¸ªæšä¸¾å¸¸é‡åºå·ä¸º0ï¼›</li>
<li>String toString()ï¼šæŠŠæšä¸¾å¸¸é‡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼›</li>
<li>static T valueOf(Class enumType, String name)ï¼šæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæšä¸¾å¸¸é‡ã€‚</li>
</ul>
<p>ç‰¹æ®Šæ–¹æ³•ï¼š</p>
<p>static Class[] values()ï¼šè¿”å›æœ¬ç±»æ‰€æœ‰æšä¸¾å¸¸é‡ï¼›</p>
<p>static Class valueOf(String name)ï¼šé€šè¿‡æšä¸¾å¸¸é‡çš„åå­—è¿”å›Class(è¿™ä¸ªç±»ï¼‰å¸¸é‡ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•ä¸Enumç±»ä¸­çš„valueOf()æ–¹æ³•çš„å‚æ•°ä¸ªæ•°ä¸åŒã€‚</p>
<ul>
<li>é“¾æ¥ï¼š<a href="https://gitee.com/link?target=https://www.jianshu.com/p/7d3e3f6695a5">https://www.jianshu.com/p/7d3e3f6695a5</a></li>
</ul>
<p>å…¶ä½™å±æ€§å’Œæ„é€ æ–¹æ³•åŒæ™®é€šç±»</p>
<h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><p>pomç‰ˆæœ¬æœ‰å¯èƒ½åœ¨å¤šä¸ªåœ°æ–¹å¼•å…¥ï¼Œç‰ˆæœ¬ä¸ä¸€è‡´ã€‚</p>
<p>å¤šä¸ªåœ°æ–¹éƒ½å¼•å…¥è¿™ä¸ªç‰ˆæœ¬ï¼Œæ³¨æ„ä¿®æ”¹ã€‚</p>
<p>å¦å¤–ï¼Œbuildå’Œrebuildä¸åŒï¼Œå¯ä»¥å°è¯•ç”¨rebuildæˆ–maven run compileé‡æ–°ç¼–è¯‘</p>
<p>å¯¼å…¥å¤–éƒ¨jaråŒ…:æä¾›ç›¸å¯¹è·¯å¾„å³å¯</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.aliyun.gts.utc&lt;/groupId&gt;
    &lt;artifactId&gt;cas-validation-starter&lt;/artifactId&gt;
    &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;
    &lt;scope&gt;system&lt;/scope&gt;
    &lt;systemPath&gt;$&#123;basedir&#125;/lib/cas-validation-starter-1.3-SNAPSHOT.jar&lt;/systemPath&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="SSO"><a href="#SSO" class="headerlink" title="SSO"></a>SSO</h3><p>token:å¦‚æœç”Ÿæˆï¼šâ‘ ç”¨è®¾å¤‡å·macåœ°å€â‘¡ç”¨sessionID</p>
<p>cookieå’Œsession: è·Ÿè¸ªç”¨æˆ·çš„æ•´ä¸ªä¼šè¯ã€‚</p>
<p>cookieåœ¨å®¢æˆ·ç«¯ï¼Œsessionåœ¨æœåŠ¡ç«¯</p>
<p>JWT Json web token ä¸€ç§token</p>
<p>JWTBuilder</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=" alt="img"></p>
<h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p>beançš„åŠ è½½é¡ºåºï¼šcontext-paramâ€”&gt;listenerâ€”&gt;filterâ€”&gt;servletâ€”&gt;interceptorï¼ˆæ‹¦æˆªå™¨æœ¬èº«åœ¨Servletä¸­</p>
<p>ä»å·¦åˆ°å³åˆ†åˆ«æ˜¯ï¼šåˆå§‹åŒ–é…ç½®â€”â€”ç›‘å¬requestã€sessionã€applicationçš„åˆå§‹åŒ–å’Œå˜åŒ–â€”â€”è¿‡æ»¤è¯·æ±‚</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=" alt="img"></p>
<p>æ‹¦æˆªå™¨æ— æ³•æ³¨å…¥beançš„è§£å†³</p>
<pre><code>public &lt;T&gt; T getBean(Class&lt;T&gt; clazz,HttpServletRequest request)&#123;
    WebApplicationContext applicationContext = WebApplicationContextUtils.getRequiredWebApplicationContext(request.getServletContext());
    return applicationContext.getBean(clazz);
&#125;
</code></pre>
<p>å¦‚ä½•è®©ä»£ç ç®€ç»ƒ</p>
<p>ä¸€ä¸ªå°æ¨¡å—ä¸­ï¼Œè½»ä¸é‡çš„é€‰æ‹©</p>
<h3 id="ä¸šåŠ¡-ç†Ÿæ‚‰ä»£ç "><a href="#ä¸šåŠ¡-ç†Ÿæ‚‰ä»£ç " class="headerlink" title="ä¸šåŠ¡-ç†Ÿæ‚‰ä»£ç "></a>ä¸šåŠ¡-ç†Ÿæ‚‰ä»£ç </h3><p>ç†Ÿæ‚‰ä»£ç ï¼Œä¸€åˆ‡çš„å‰æéƒ½æ˜¯è¯»æ‡‚ä»£ç ï¼Œä¸å…‰æ˜¯è¯»æ‡‚ä»£ç æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œè¿˜è¦çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Œå“ªäº›æ²¡æœ‰å®Œå–„çš„åœ°æ–¹ã€‚</p>
<p>æ­£å¦‚å¥½çš„æ•…äº‹ã€å‰§æœ¬ä¸€æ ·ï¼Œå¥½çš„ä»£ç ä¹Ÿåº”è¯¥æ˜¯ä¸¥ä¸åˆç¼ï¼Œä¸€ä¸ªå®Œæ•´çš„ç»“æ„ï¼Œä¸èƒ½æœ‰é—²ç¬”ã€‚</p>
<h4 id="å•ç‚¹ç™»å½•ï¼š"><a href="#å•ç‚¹ç™»å½•ï¼š" class="headerlink" title="å•ç‚¹ç™»å½•ï¼š"></a>å•ç‚¹ç™»å½•ï¼š</h4><p>ä¸ç”¨ç™»å½•ä½†åˆç™»å½•äº†ï¼Œåªèƒ½ç™»å½•ä¸€ç‚¹ç‚¹ã€‚å…¶å®å°±æ˜¯æ‹¿äº†ç³»ç»Ÿä¸­å­˜å‚¨çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<p>ä¼ å…¥çš„ä¿¡æ¯ç»ç”±requestInfoä¼ ç»™ssoInfoï¼Œå¿…è¦çš„æ—¶å€™å¯ä»¥åœ¨ä¸¤è€…ä¸­å¢æ·»å±æ€§ï¼Œæ³¨æ„å±æ€§å’Œä¼ å…¥çš„jsonï¼ˆæˆ–è€…åˆ«çš„å½¢å¼ï¼‰çš„keyè¦å¯¹åº”ã€‚ç„¶åé€šè¿‡æ ¡éªŒï¼Œæ ¡éªŒçš„å½¢å¼å’Œæ–¹æ³•å¤šæ ·è½è„šç‚¹æ˜¯è¿”å›å»ä¸€ä¸ªuserCodeæ”¾å…¥åˆ°ç™»å½•æ—¶çš„å¯¹è±¡ä¸­åšåç»­â€œçœŸæ­£ç™»å½•â€çš„åˆ¤æ–­ã€‚</p>
<p>è¦æ˜ç™½è¿™åªæ˜¯ä¸€ç§å®ç°æ–¹å¼ã€‚è¦å®ç°å•ç‚¹ç™»å½•å¿…é¡»è¦åŒä¸€ä¸ªç”¨æˆ·å®ä½“å…¶åœ¨è·³è½¬å‰åçš„ç³»ç»Ÿä¸­è¦æ ¡éªŒçš„ä¿¡æ¯ä¸€è‡´ã€‚</p>
<p><strong>cookieç™»å½•ï¼š</strong></p>
<p>åŒæ­¥é—®é¢˜;</p>
<p>åŒæ–¹ç³»ç»Ÿä¸­åŒä¸€ä¸ªç”¨æˆ·ä½†æ˜¯æ ‡è¯†ï¼ˆæ¯”å¦‚userid)ä¸¤è¾¹å†å²æ•°æ®å¯èƒ½ä¸ä¸€è‡´ï¼Œæ–°å¢çš„åŒæ­¥è¿‡æ¥çš„ç”¨æˆ·æ•°æ®åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚ç”±äºå†å²æ•°æ®ä¸åŒï¼Œä½†åŒæ—¶è¯¥æ ‡è¯†åˆå¾ˆé‡è¦ä¸åŸå§‹çš„ä¸šåŠ¡æ•°æ®å¯èƒ½ä¹Ÿæœ‰å…³ç³»ï¼Œå¦‚æœä¿®æ”¹çš„è¯ä¼šä¿®æ”¹å¤§é‡æ•°æ®ï¼Œå› æ­¤ç”¨ä¸€ä¸ªå­—æ®µï¼ˆä¸ç”¨çš„ï¼‰å­˜å–è¯¥å†å²æ•°æ®çš„å­—æ®µï¼Œä¸ç°æœ‰åº“ä¸­çš„å­—æ®µæ˜ å°„ã€‚</p>
<p>æ¯”å¦‚ï¼šç‹å°æ˜åœ¨é‚£è¾¹çš„useridæ˜¯110ï¼Œæˆ‘è¿™è¾¹user_codeï¼ˆå‡è®¾ä¸¤è€…æ˜¯å¯¹åº”çš„å…³ç³»ï¼‰æ˜¯120ï¼ŒåŒæ—¶120è¿™ä¸ªidåœ¨è®¸å¤šè¡¨ä¸­å·²ç»å­˜åœ¨ï¼Œè¦ä¿®æ”¹è‚¯å®šä¸ç°å®ï¼Œæ‰€ä»¥é‚£è¾¹çš„å†å²æ•°æ®çš„useridè¦å­˜ä¸ºä¸€ä¸ªåˆ«çš„å­—æ®µä½œä¸ºå’Œè¯¥å­—æ®µçš„æ˜ å°„ã€‚</p>
<p>è®¸ä¹…ä¸åŠ¨çš„é…ç½®å¯èƒ½ä¹Ÿä¼šå¼•èµ·é—®é¢˜ã€‚</p>
<p>åŒæ­¥çš„æ˜¯ä»€ä¹ˆ å¯èƒ½æ˜¯ä»€ä¹ˆ é—®æ¸…æ¥š</p>
<p>è¦æ³¨æ„åŒæ–¹çš„æƒ…å†µéƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœç¯å¢ƒç›¸åŒè¿˜æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬é™¤å»è½è„šçš„æ•°æ®åº“ï¼Œä¸­é—´çš„ä»£ç ï¼Œåªå‰©ä¸‹å…¥å‚çš„é—®é¢˜äº†ã€‚</p>
<p>ç†Ÿæ‚‰å·¥å…·ï¼Œä¾èµ–ç‰ˆæœ¬çš„é—®é¢˜</p>
<p>è¦ä»”ç»†ç†è§£è‡ªå·±çš„ä»£ç ,<strong>æ•°æ®å°±æ˜¯åœŸå£¤ï¼Œæ•°æ®æ€»æ˜¯èƒ½å¼•èµ·çœ‹ä¼¼ä»£ç çš„é—®é¢˜</strong></p>
<p>é€’å½’ä¼˜åŒ– â€“æ ‘å½¢ç»“æ„çš„éå† é€šè¿‡æ ˆå¯¹è¿™æ¬¡æ ‘å½¢ç»“æ„çš„éƒ¨é—¨ä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼Œç„¶åå»æ·±åº¦éå†å‘ç°æœ€ç»ˆç”±äºæ•°æ®é‡å¤ªå°‘åªæœ‰ä¸€åƒå¤šä¸ªå¹¶æ²¡æœ‰å¤šå¤§çš„æ—¶é—´ä¸Šçš„æå‡ã€‚é˜Ÿåˆ—çš„è¯å¯ä»¥ç”¨æ¥æ”¹å˜é€’å½’çš„å¹¿åº¦éå†ã€‚</p>
<p>for å¾ªç¯æŠ›å‡ºå¼‚å¸¸ ç»ˆæ­¢</p>
<p>å¦‚æœåœ¨forå¾ªç¯å¤–æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™æ•´ä¸ªforå¾ªç¯ä¼šç»ˆæ­¢ï¼Œè€Œåœ¨éå†å†…éƒ¨æŠ›å‡ºå¼‚å¸¸ä»…ä¼šå½±å“åˆ°æœ¬æ¬¡å¾ªç¯ã€‚</p>
<p>å¦å¤–è¿™æ¬¡forå¾ªç¯å®é™…ä¸Šè°ƒç”¨äº†ä¸€ä¸ª@Transcationalæ³¨é‡Šçš„æ¥å£ï¼Œä¸€æ¬¡éå†æ‰§è¡Œäº†ä¸€æ¬¡äº‹åŠ¡ã€‚å¦‚æœè¯¥å¾ªç¯æœ¬èº«æ³¨é‡Šäº†äº‹åŠ¡å¦‚æœä¸­é—´å‡ºç°äº†å¼‚å¸¸ï¼Œåº”è¯¥æ˜¯ä¼šå¯¼è‡´å‰é¢æ‰§è¡ŒæˆåŠŸçš„é‚£äº›sqlæ“ä½œå›æ»šå›å»çš„ã€‚</p>
<p>è¿™ä¸ªå…·ä½“è¿˜è¦æƒ³ä¸‹ä¸ºä»€ä¹ˆã€‚</p>
<p><strong>æ—¥å¿—é—®é¢˜</strong>ï¼šé…ç½®å¾ˆé‡è¦ï¼Œå› ä¸ºå‡ºé—®é¢˜çš„æƒ…å†µä¼šå¾ˆå¤šï¼Œæ¯”å¦‚è¿™æ¬¡åŒæ­¥å¼€å§‹æ²¡é—®é¢˜çš„åœ°æ–¹åé¢å› ä¸ºç¬¬ä¸‰æ–¹æ¥å£åœ°å€å†…ç½‘è®¿é—®ä¸äº†å‡ºäº†é”™è¯¯ä½†æ˜¯å› ä¸ºä¹‹å‰æ²¡æœ‰è€ƒè™‘åˆ°æ—¥å¿—ä½†æ˜¯è¿˜è¦å†æ›¿æ¢å›å»ã€‚</p>
<p>æŒæ¡try{} catch{}çš„åˆ†å¸ƒ</p>
<p><strong>ç¼–ç é—®é¢˜</strong></p>
<p>é¦–å…ˆè¦ææ¸…æ•°æ®çš„æµå‘ï¼Œä»å“ªé‡Œæ¥çš„ï¼Œåˆ°å“ªé‡Œå»ï¼Œä¸­é—´åˆç»è¿‡äº†ä»€ä¹ˆå¤„ç†ï¼Œè¿™æ ·æ‰èƒ½æ˜ç™½é—®é¢˜å‡ºç°åœ¨å“ªã€‚</p>
<p>åŒæ—¶è¦ç†Ÿæ‚‰è‡ªå·±è¿‡å»å†™çš„ä»£ç â€”â€”ä»¥åŠè‡ªå·±è°ƒç”¨çš„åˆ«äººçš„ä»£ç &#x3D;&#x3D;</p>
<p>æ¯”å¦‚è¿™æ¬¡ä¸œé˜³ï¼Œéƒ¨é—¨åŒæ­¥ä¹±ç ã€‚</p>
<p>é¦–å…ˆå·²çŸ¥çš„æ˜¯ï¼š</p>
<p>è¯·æ±‚ï¼Œacceptçš„æ˜¯UTF-8ï¼Œä¼ å…¥çš„å…¶å®æ˜¯GBKï¼Œå­˜å…¥æµ‹è¯•ç¯å¢ƒï¼ˆwindowsï¼‰GBKä¸ä¹±ç ï¼Œæ­£å¼ç¯å¢ƒï¼ˆLinuxï¼‰UTF-8ä¹±ç ã€‚</p>
<p>ç¬¬ä¸€ååº”æ˜¯LinuxæœåŠ¡å™¨çš„é—®é¢˜ï¼Œäºæ˜¯æƒ³ç€å»æ”¹å…¨å±€çš„é…ç½®ï¼Œè™šæ‹Ÿæœºçš„é…ç½®ç­‰ç­‰ã€‚</p>
<p>å…¶æ¬¡ï¼š</p>
<p>å°±ç›®å‰çš„ç†è§£çœ‹ï¼Œç›®å‰æ¶‰åŠçš„ç¨‹åºä»…æ˜¯CRUDï¼Œç¨‹åºçš„ä½œç”¨åªæœ‰ä¸€ä¸ªâ€”â€”æ“çºµæ•°æ®ã€‚</p>
<p>å› æ­¤ï¼Œæ˜ç™½æ•°æ®çš„æºå¤´ï¼Œæµå‘ï¼Œç»è¿‡äº†æ€æ ·çš„å¤„ç†ï¼Œæœ€ç»ˆçš„ç»“æœå¾ˆé‡è¦ã€‚</p>
<p>è¿œç«¯æ¥å£ï¼ˆGBKç¼–ç ï¼‰â€”â€”ã€‹å‘é€è¯·æ±‚è¯·æ±‚å¤´çš„content-typeï¼šapplicaiton&#x2F;jsonâ€”â€”ã€‹å®šæ—¶ä»»åŠ¡ç¨‹åºï¼ˆUTF-8ï¼‰â€”â€”ã€‹è§£å¯†ï¼ˆ*ï¼‰â€”â€”ã€‹ä¹±ç </p>
<p>ç»è¿‡ä¸€ç³»åˆ—çš„ä¿®æ”¹ï¼Œå‘ç°æ²¡æœ‰èµ·åˆ°ä»»ä½•ä½œç”¨ã€‚ä¹±ç è¯¥æ€ä¹ˆä¹±è¿˜æ˜¯æ€ä¹ˆä¹±ã€‚é—®é¢˜çš„æœ¬è´¨æ˜¯å› ä¸ºå¯¹UTF-8ç¼–ç å’ŒGBKç¼–ç çš„åŒºåˆ«å’Œè½¬æ¢ä¸äº†è§£ã€‚æœ€ç»ˆå‘ç°ï¼ŒUTF-8å’ŒGBKå¹¶ä¸ä¼šå¯¹è‹±æ–‡å­—æ¯å’Œé˜¿æ‹‰ä¼¯æ•°å­—ï¼ˆåŒ…æ‹¬åŠ å¯†é‡Œé¢çš„%)éƒ½ä¸ä¼šäº§ç”Ÿä¹±ç ã€‚</p>
<p>å› ä¸ºGBKæ˜¯ä¸¤ä¸ªå­—èŠ‚ä¸€ä¸ªæ±‰å­—UTF-8æ˜¯ä¸‰ä¸ªã€‚ä½†æ˜¯å¯¹äºæ•°å­—å’Œå­—æ¯çš„è¡¨ç¤ºä½æ•°æ˜¯ç›¸åŒçš„ã€‚å› æ­¤æ— è®ºæ˜¯è¯·æ±‚æ–¹å¼è¿˜æ˜¯æ¥æ”¶çš„å¤„ç†éƒ½æ²¡æœ‰é—®é¢˜ï¼Œç›´åˆ°è½¬æ¢ä¸­æ–‡å­—ç¬¦å‰çš„æ‰€æœ‰ç¨‹åºéƒ½ä¸ä¼šæœ‰é—®é¢˜ã€‚</p>
<p>é—®é¢˜å°±å‡ºåœ¨æˆ‘ä»¬å°†è¿™äº›æ‚ä¹±çš„å­—ç¬¦ä¸²å¦‚ä¸‹ï¼šQi3Ba6gjXjayZgwlaW0zMLFmYRrGDNPMIiLâ€¦â€¦ å¾ˆæ˜æ˜¾è§£å¯†åæ‰æœ‰æ±‰å­—å‡ºç°ï¼Œç„¶åå°±å»è§£å¯†æ–¹æ³•ä¸­æ‰¾ï¼Œé‚£è¾¹ç»™å‡ºçš„æ„è§æ²¡æœ‰ç”¨å› ä¸ºå…³é”®ä¸€æ­¥å°±æ˜¯å­—æ¯è¿˜åŸæˆæ±‰å­—ï¼ŒGBKåˆ°UTF-8çš„è½¬åŒ–æ˜¯ä¸å¯é€†çš„ã€‚</p>
<p>è¿™é‡Œè¦æ³¨æ„ä¸€ä¸ªé—®é¢˜URLEncoder.encode()å’ŒgetBytes()ä½œç”¨æ˜¯ä¸€è‡´çš„éƒ½æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚æ•°ç»„ã€‚</p>
<p>ä¸åº”è¯¥åªå–è€ƒè™‘ç¼–ç æ¥å›å€’è…¾çš„é—®é¢˜ï¼Œåº”è¯¥å…ˆåˆ‡å…¥é—®é¢˜çš„ç‚¹ï¼Œé—®é¢˜çš„æ ¹æºã€‚<strong>ç†Ÿæ‚‰ä»£ç </strong>ï¼Œç†Ÿæ‚‰æ‰€è°ƒç”¨çš„æ–¹æ³•çš„å¤šæ€å½¢å¼ã€‚</p>
<p>æ­¤æ¬¡æŠ˜è…¾å¯ä½œä¸ºåé¢å„ç§ä¹±ç å’ŒåŠ è§£å¯†çš„å‚è€ƒã€‚</p>
<hr>
<p>ä»Java æºä»£ç åˆ°å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œè¦ç»è¿‡ â€œJava æºä»£ç -&gt; Java å­—èŠ‚ç -&gt; è™šæ‹Ÿæœº-&gt;æ“ä½œç³»ç»Ÿ-&gt;æ˜¾ç¤ºè®¾å¤‡â€çš„è¿‡ç¨‹ã€‚åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥éª¤ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»æ­£ç¡®åœ°å¤„ç†ä¸­æ–‡çš„ç¼–ç ï¼Œæ‰èƒ½å¤Ÿä½¿æœ€ç»ˆæ˜¾ç¤ºæ­£ç¡®çš„ç»“æœã€‚</p>
<p>â€œJava æºä»£ç -&gt; Java å­—èŠ‚ç â€ï¼šè¯¥é˜¶æ®µå°±æ˜¯è°ƒç”¨javac è¿›è¡Œç¼–è¯‘çš„é˜¶æ®µï¼Œjavacé»˜è®¤é‡‡ç”¨ç³»ç»Ÿå­—ç¬¦é›†ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ¬åœ°æœºå™¨æ€¥å°±æ˜¯GBKï¼Œå¦‚æœæƒ³ç”¨å…¶ä»–çš„ç¼–ç ï¼Œæ¯”å¦‚UTF-8ï¼Œå¯ä»¥åŠ ä¸Š -encoding UTF-8</p>
<p>â€œJava å­—èŠ‚ç -&gt; è™šæ‹Ÿæœº-&gt;æ“ä½œç³»ç»Ÿâ€ ï¼šè¯¥é˜¶æ®µé¦–å…ˆéœ€è¦JREæˆ–è€…JDKæ”¯æŒå¤šè¯­è¨€(ä¸‹è½½JREçš„æ—¶å€™ä¼šè®©ä½ é€‰æ‹©è‹±æ–‡ç‰ˆè¿˜æ˜¯å¤šè¯­è¨€ç‰ˆ)ï¼Œç„¶åå°±æ˜¯è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™ä½¿ç”¨ä»€ä¹ˆå­—ç¬¦é›†ï¼Œé»˜è®¤ä¹Ÿæ˜¯é‡‡ç”¨ å½“å‰ç³»ç»Ÿçš„å­—ç¬¦é›†ï¼Œå¦‚éœ€è¦ä¿®æ”¹å­—ç¬¦é›†ï¼ŒåŠ ä¸ŠJAVAçš„å¯åŠ¨å‚æ•°,-Dfile.encoding&#x3D;GBK</p>
<p>â€œæ“ä½œç³»ç»Ÿ-&gt;æ˜¾ç¤ºè®¾å¤‡â€ï¼šè¯¥é˜¶æ®µä¸»è¦å°±æ˜¯éœ€è¦æ“ä½œç³»ç»Ÿæ”¯æŒæ˜¾ç¤ºä¸­æ–‡å°±å¯ä»¥ï¼Œå°±æ˜¯å®‰è£…äº†ä¸­æ–‡å­—ä½“ã€‚</p>
<p>çœ‹åˆ°è¿™é‡Œåé‡æ–°çœ‹æˆ‘ä»¬çš„ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ç¼–è¯‘(Java æºä»£ç -&gt; Java å­—èŠ‚ç  é˜¶æ®µ)é»˜è®¤é‡‡ç”¨äº†GBKå­—ç¬¦é›†ï¼Œè€Œâ€Java å­—èŠ‚ç -&gt; è™šæ‹Ÿæœº-&gt;æ“ä½œç³»ç»Ÿâ€ é˜¶æ®µæ˜¯åœ¨æ³•å›½æœåŠ¡å™¨ä¸Šè¿›è¡Œï¼Œä¹Ÿæ˜¯é‡‡ç”¨äº†é»˜è®¤çš„å­—ç¬¦é›†ï¼Œä½†è¿™é‡Œçš„é»˜è®¤å­—ç¬¦é›†ç¡®å®Cp1252ï¼Œå› å­—ç¬¦é›†ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å°±ä¼šä¹±ç ã€‚</p>
<h4 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h4><p>æ€è€ƒä¸‹ä¸ç›´æ¥åˆ©ç”¨æ³¨è§£æœ‰ä»€ä¹ˆä¸åŒ</p>
<p>ç»è¿‡è§‚å¯Ÿæºç ï¼Œå‘ç°å…¶å®æ˜¯é€šè¿‡çµæ´»ç»™@Scheduleræ³¨è§£é…ç½®å‚æ•°å®ç°çš„(???)</p>
<p>1.é…ç½®ä¹Ÿæ˜¯ä»£ç  æ•°æ®çš„ ä¸€éƒ¨åˆ†ï¼Œè¦é‡è§†é…ç½®é—®é¢˜ã€‚</p>
<p>2.å¯¹è±¡ ä¸ å†…å­˜ åœ°å€ è¿™ä¹‹é—´çš„å…³ç³»å¾ˆé‡è¦ï¼Œæˆ‘ä»¬çš„å®ä½“ç±»æœ¬è´¨ä¸Šè¯´æ¥å°±æ˜¯ä¸ªä¸´æ—¶å­˜å‚¨çš„ä½œç”¨ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯æŒä¹…åŒ–åˆ°æ•°æ®åº“ï¼Œæˆ–è€…åœ¨æ–¹æ³•ä¹‹é—´æŠ›æ¥æŠ›å»ï¼Œè€Œé‚£äº›é€»è¾‘å°±æ˜¯å¤„ç†æ•°æ®çš„ï¼ˆå½“ç„¶è¿™æ˜¯ç›®å‰æ¯”è¾ƒç²—æµ…çš„ç†è§£ï¼‰</p>
<p>3.ä¼ å‚æ•°ï¼ŒMap&lt;Obj,Obj&gt;â€”â€”ä¸jsonâ€”â€”å…¶å®è¿˜æ˜¯é€šä¿¡é—®é¢˜</p>
<p>4.ä¸‡äº‹ä¸‡ç‰©éƒ½æ˜¯ç›¸é€šçš„ï¼Œè®¡ç®—æœºè¿™ç§ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šä¸æ–­å»ä¼˜åŒ–è‚©è†€å½“ç„¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ–¹æ³•æ—¢ç„¶å…è®¸é‡å†™é‚£ä¹ˆç±»ä¸­çš„set getå½“ç„¶ä¹Ÿå¯ä»¥é‡å†™ã€‚</p>
<p>5.åç«¯ç¨‹åºåˆ†å±‚æ—¶å„å±‚å„å¸èŒè´£ä¸”ä¸éœ€è¦å…³æ³¨å…¶ä½™å±‚çš„å®ç°ä»…éœ€è°ƒç”¨ï¼Œç½‘ç»œåˆ†å±‚å½“ç„¶ä¹Ÿæ˜¯è¿™æ ·ã€‚</p>
<p>6.åˆ†å±‚å…¶å®æ˜¯ä¸€ç§ç³»ç»ŸåŠŸèƒ½åˆ†è§£</p>
<p>â€œAny problem in computer science can be solved by anther layer of indirection.â€</p>
<ol>
<li>ç¾è§‚é—®é¢˜</li>
</ol>
<p><strong>ä»£ç å†™çš„å¤ªä¹±å¤ªç¹çä¸€å®šæœ‰é—®é¢˜</strong>ï¼Œå› ä¸ºè½¯ä»¶å·¥ç¨‹çš„å‘å±•åŒ…æ‹¬Springbootæˆ–è€…å¦‚fastjsonè¿™äº›ç±»åº“ç»è¿‡å‰äººçš„ä¸æ–­å¼€å‘è¿­ä»£ï¼Œä»¥æˆ‘å½“å‰çš„ç¼–ç¨‹æ°´å¹³ï¼Œä¸ä»…èƒ½å®ç°éœ€æ±‚åŒæ—¶è¿˜èƒ½å¤Ÿç®€åŒ–å¼€å‘ç®€æ´ä»£ç ã€‚</p>
<p>checkToken:false â€”â€”ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè‡´ä½¿PtyContextä¸­çš„usernameä¸ºç©º</p>
<p>åŸæ¥AuthInterceptoræ˜¯ç»§æ‰¿è‡ªSpringMVCä¸­çš„ç±»ï¼Œè¿™ä¸ªç±»æ‹¦æˆªçš„æ˜¯å‰ç«¯è¿›å…¥Controllerçš„è¯·æ±‚ï¼Œå› æ­¤æˆ‘ä»¬çš„ä¸€äº›æ“ä½œè¦æ”¾åœ¨è¿™ä¸ªç±»é‡Œå®ç°ï¼Œæ¯”å¦‚ç»™çº¿ç¨‹å˜é‡å­˜å…¥ä¸€äº›u</p>
<h3 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h3><p>åœ¨å…¬å¸çš„äº§å“ä¸­ï¼Œå®é™…ä¸Šå®ä½“ç±»çš„å¼€å‘å°±ç”¨åˆ°äº†å»ºé€ è€…æ¨¡å¼ï¼Œå»newä¸€ä¸ªå¯¹è±¡ç„¶ååœ¨åé¢é“¾å¼è°ƒç”¨ä¸€å †æ–¹æ³•å®ç°å¯¹å¯¹è±¡å±æ€§çš„æ³¨å…¥ï¼Œ</p>
<p>å½“ç„¶è¿™æ˜¯ç›®å‰æµ…æ˜¾çš„ç†è§£ã€‚å®é™…æ“ä½œå°±æ˜¯åœ¨å®ä½“ç±»ä¸­åˆ›å»ºä¸€ä¸ªstaticä¿®é¥°çš„æ„é€ æ–¹æ³•ï¼Œç„¶åå†åŠ ä¸Š</p>
<p>å‚è€ƒå·²åŠ å…¥å¾®ä¿¡è¯»ä¹¦ä¹¦æ¶çš„ä¸€æœ¬ä¹¦</p>
<h3 id="ç½‘ç»œé€šä¿¡"><a href="#ç½‘ç»œé€šä¿¡" class="headerlink" title="ç½‘ç»œé€šä¿¡"></a>ç½‘ç»œé€šä¿¡</h3><p>ç½‘ç»œä¼ è¾“çš„æ•°æ®å¿…é¡»æ˜¯äºŒè¿›åˆ¶æ•°æ®ã€‚å…¶å®è¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œè®¡ç®—æœºç½‘ç»œæœ€åº•å±‚ç‰©ç†å±‚ä¼ çš„æœ¬å°±æ˜¯æ¯”ç‰¹ã€‚åŒæ—¶è¿™å—å†…å®¹æ¶‰åŠåˆ°åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„é—®é¢˜ã€‚JSONçš„è¿˜åŸåº”è¯¥æ˜¯åœ¨æ¥æ”¶æ–¹å…ˆå°†0101è¿™äº›è¿˜åŸä¸ºJSONåå†è¿˜åŸæˆå¯¹è±¡ã€‚å…¶å®è¿›ä¸€æ­¥è®¤ä¸ºï¼Œæ‰€è°“åºåˆ—åŒ–å¯ä»¥çœ‹ä½œæŒ‰ç…§æŸç§è§„å®šå»å°†æ•°æ®è¿›è¡Œäº†â€œåŠ å¯†â€ï¼Œåªä¸è¿‡è¿™ç§å¤„ç†åçš„æ•°æ®çš„æ ¼å¼æ˜¯äºŒè¿›åˆ¶çš„ã€‚</p>
<p>RestTemplate å¸¸ç”¨æ–¹æ³•ï¼š</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œhutoolsè¿˜æœ‰ä¸€ä¸ªHttpUtilså¯ä»¥å‚è€ƒä½¿ç”¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š(Postè¯·æ±‚)</p>
<pre><code>Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();
param.put(&quot;key&quot;, value);  // éœ€è¦ä¼ é€’çš„å‚æ•°
Map&lt;String, String&gt; header = new HashMap&lt;&gt;();
header.put(&quot;http.protocol.content-charset&quot;, &quot;UTF-8&quot;);
String responseXml = HttpUtil.createPost(ssoUri).addHeaders(header).form(param).execute().body();
</code></pre>
<p>ä»…é’ˆå¯¹GET</p>
<table>
<thead>
<tr>
<th>è¯·æ±‚æ–¹æ³•</th>
<th>è¯·æ±‚å‚æ•°</th>
<th>è¿”å›ç±»å‹</th>
<th>*<strong>æ³¨æ„äº‹é¡¹*</strong></th>
</tr>
</thead>
<tbody><tr>
<td>getForObject</td>
<td>urlï¼ŒClass,å¯é€šè¿‡å°†å¤šä¸ªå‚æ•°æ”¾å…¥mapï¼Œä¼ å…¥å¯å˜å‚æ•°</td>
<td>Classï¼Œåªè¿”å›httpçš„bodyå†…å®¹</td>
<td>è¿”å›æ•°æ®ä¸å¤šä¸”ä¸å…³å¿ƒå“åº”çŠ¶æ€ã€è¯·æ±‚å¤´</td>
</tr>
<tr>
<td>getForEntity</td>
<td>åŒä¸Š</td>
<td>è¿”å›ä¸€ä¸ªResponseEntityåŒ…å«äº†headersã€bodyã€statusç­‰ä¿¡æ¯</td>
<td>è¿”å›æ•°æ®ç»“æ„å•ä¸€ä¸”å…³å¿ƒå“åº”çŠ¶æ€æˆ–å“åº”å¤´ä¿¡æ¯</td>
</tr>
<tr>
<td><strong>exchange</strong></td>
<td>url,æŒ‡å®šHttpMethodã€HttpEntity</td>
<td>Classæˆ–ResponseEntity</td>
<td>è¿”å›æ•°æ®ç»“æ„å¤æ‚ä¸”å…³å¿ƒâ€¦â€¦</td>
</tr>
</tbody></table>
<p>æŒ‡å®šçš„HttpEntityå¯ä»¥æ”¾å…¥æºå¸¦çš„å‚æ•°å’Œè®¾ç½®çš„è¯·æ±‚ç±»å‹(setAccept:application&#x2F;json)</p>
<pre><code>HttpHeaders headers = new HttpHeaders();
headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON_UTF8));
HttpEntity httpEntity = new HttpEntity(headers);
// å‘é€è¯·æ±‚è·å–åŠ å¯†çš„éƒ¨é—¨ä¿¡æ¯
ResponseEntity&lt;JSONObject&gt; response = restTemplate.exchange(requestUrl, HttpMethod.GET, httpEntity, JSONObject.class);
</code></pre>
<p>æŸ¥å‡ºç¼“å­˜ è¯¥ç¼“å­˜æ˜¯æ€ä¹ˆæ¥çš„ åˆæ˜¯æ€ä¹ˆå»å–çš„</p>
<pre><code>List&lt;MadAcitemAssrelDO&gt; madAcitemAssrelDOList = new ArrayList&lt;&gt;();
      List&lt;Map&lt;String, String&gt;&gt; madAcitemAssrelDOMap = new ArrayList&lt;&gt;();
      HashMap&lt;Integer, StringBuffer&gt; promptMsgMap = new HashMap&lt;&gt;();
      for (int i = 0;i&lt;excelData.size();i++) &#123;
          Map&lt;String, String&gt; dataEnMap = new HashMap&lt;&gt;();
          for (int j = 0;j&lt;acItemList.size();j++) &#123;
//              for (Map.Entry&lt;String, String&gt; entry : acItemMap.entrySet()) &#123;
              for (Map&lt;String, String&gt; entry : acItemMapList) &#123;
                  for (Map.Entry&lt;String, String&gt; stringEntry : entry.entrySet()) &#123;
                      List&lt;Map&lt;String, Object&gt;&gt; leafAtomList = leafAtomData.get(entry.get(ATOM_CODE));
                      if (stringEntry.getKey().equals(acItemList.get(j))) &#123;
                          String cellValue = excelData.get(i).get(j);
                          String cellCodeValue = &quot;&quot;;
                          String cellNameValue = &quot;&quot;;
                          if (!StringUtils.isEmpty(cellValue)) &#123;
                              String[] split = cellValue.split(SPLIT_CODE_NAME,2);
                              if (split != null &amp;&amp; split.length == 2) &#123;
                                  cellCodeValue = split[0];
                                  cellNameValue = split[1];
                              &#125;
                          &#125;
                          dataEnMap.put(stringEntry.getValue().toLowerCase() + CODE , cellCodeValue);
                          dataEnMap.put(stringEntry.getValue().toLowerCase() + NAME , cellNameValue);
                          String finalCellNameValue = cellNameValue;
                          String finalCellCodeValue = cellCodeValue;
                          boolean present = leafAtomList.stream().filter(a -&gt; a.get(&quot;name&quot;).equals(finalCellNameValue) &amp;&amp; a.get(&quot;code&quot;).equals(finalCellCodeValue)).findFirst().isPresent();
                          if (!present) &#123;
                              promptMsgMap.put(i + 1, promptMsgMap.containsKey(i + 1) ? promptMsgMap.get(i + 1).append(&quot;,&quot; + stringEntry.getKey()) : new StringBuffer(stringEntry.getKey()));
                          &#125;
                      &#125;
                  &#125;
              &#125;
          &#125;
</code></pre>
<h3 id="408"><a href="#408" class="headerlink" title="408"></a>408</h3><h4 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h4><p>æ“ä½œç³»ç»Ÿçš„è®¾è®¡ï¼Œå› æ­¤å¯ä»¥å½’ç»“ä¸ºä¸‰ç‚¹ï¼š</p>
<ul>
<li>ä»¥å¤šè¿›ç¨‹å½¢å¼ï¼Œå…è®¸å¤šä¸ªä»»åŠ¡åŒæ—¶è¿è¡Œï¼›</li>
<li>ä»¥å¤šçº¿ç¨‹å½¢å¼ï¼Œå…è®¸å•ä¸ªä»»åŠ¡åˆ†æˆä¸åŒçš„éƒ¨åˆ†è¿è¡Œï¼›</li>
<li>æä¾›åè°ƒæœºåˆ¶ï¼Œä¸€æ–¹é¢é˜²æ­¢è¿›ç¨‹ä¹‹é—´å’Œçº¿ç¨‹ä¹‹é—´äº§ç”Ÿå†²çªï¼Œå¦ä¸€æ–¹é¢å…è®¸è¿›ç¨‹ä¹‹é—´å’Œçº¿ç¨‹ä¹‹é—´å…±äº«èµ„æºã€‚</li>
</ul>
<p>ç¼ºé¡µå…¶å®æœ‰è½¯ç¡¬ä¸¤ç§ï¼Œä¹‹å‰æ‰€äº†è§£åˆ°çš„ç¼ºé¡µä¸­æ–­å…¶å®å°±æ˜¯ç¡¬ä¸­æ–­ï¼Œå³å†…å­˜ä¸­ç¡®å®æ²¡æœ‰è¿™ä¸ªé¡µã€‚è½¯ä¸­æ–­å°±æ˜¯å†…å­˜ä¸­æœ‰è¿™ä¸ªé¡µï¼Œä½†æ˜¯ç”±äºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰å„è‡ªå¯¹åº”çš„é¡µè¡¨ï¼Œå› æ­¤åˆ«çš„è¿›ç¨‹ä¸çŸ¥é“å…¶ä»–è¿›ç¨‹é¡µè¡¨çš„å†…å®¹ï¼Œå†…å­˜ä¸­å³ä½¿å­˜åœ¨è¿™ä¸ªé¡µä½†ç”±äºæ˜¯å…¶ä»–è¿›ç¨‹è°ƒå…¥çš„ï¼Œä¸åœ¨æ­£åœ¨æ‰§è¡Œçš„è¯¥è¿›ç¨‹çš„é¡µè¡¨ä¸­å› æ­¤ä¹Ÿäº§ç”Ÿäº†ä¸­æ–­ï¼Œè¿™ç§æƒ…å†µåªéœ€è¦æ”¹å†™é¡µè¡¨å°±å¯ä»¥äº†æ— éœ€å†å»è°ƒæ•´å†…å­˜ã€‚è¿™å°±æ˜¯å¤šè¿›ç¨‹çš„æ“ä½œç³»ç»Ÿä¼šå¼•èµ·çš„é—®é¢˜ï¼Œå•æ ¸çš„ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚</p>
<p>é¡µè¡¨è®°å½•çš„å…¶å®å°±æ˜¯è¿›ç¨‹åˆ†é…åˆ°çš„è™šæ‹Ÿå†…å­˜å¯¹åº”çš„é¡µå˜›ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ç§ä¸œè¥¿ï¼Œè¿™ç§ä¸œè¥¿åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„</p>
<p>è¿ç®—å™¨æ˜¯æ— çŠ¶æ€çš„ï¼›æ§åˆ¶å™¨é…åˆä¸€éƒ¨åˆ†å¯„å­˜å™¨ï¼Œä½†æ˜¯å¯„å­˜å™¨æ•°é‡å¾ˆå°‘ï¼Œè€Œä¸”é€šå¸¸éƒ½å¾ˆå®¹æ˜“è¢«ä¿®æ”¹ï¼›è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡åªæœ‰æ¥å—æŒ‡ä»¤çš„æ—¶å€™æ‰åŠ¨ä½œã€‚å½’æ ¹ç»“åº•æ¥è¯´ï¼Œæ•´ä¸ªè®¡ç®—æœºçš„è¿è¡ŒçŠ¶æ€å‡ ä¹å®Œå…¨ç”±å­˜å‚¨å™¨å’Œå°‘æ•°å‡ ä¸ªå¯„å­˜å™¨æ§åˆ¶ã€‚</p>
<p>ç‰©ç†å†…å­˜å°±æ˜¯æ•´ä¸ªè®¡ç®—æœºçŠ¶æ€çš„å…¨éƒ¨ã€‚â€”â€”æ¯•ç«Ÿè®¡ç®—æœºè¯´åˆ°åº•å°±æ˜¯ç¨‹åºæ“ä½œæ•°æ®å˜›â€¦..æ•°æ®ç¨‹åºéƒ½å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<h4 id="Constitution-Principle-of-Computer"><a href="#Constitution-Principle-of-Computer" class="headerlink" title="Constitution Principle of Computer"></a>Constitution Principle of Computer</h4><p>å­˜å‚¨å™¨çº§åˆ«ç¦»å¤„ç†å™¨è¶Šè¿œï¼Œé€Ÿåº¦è¶Šæ…¢ï¼Œå®¹é‡è¶Šå¤§ã€‚è€Œè¶Šæ¥è¿‘å¤„ç†å™¨ï¼Œå®¹é‡å°±è¶Šå°ï¼Œé€Ÿåº¦è¶Šå¿«ï¼Œæ¯å­—èŠ‚çš„æˆæœ¬ä¹Ÿå°±è¶Šé«˜ã€‚</p>
<p>è¯»å†™ä¸€è‡´æ€§å…¶å®æ˜¯æ¯”è¾ƒéš¾æçš„é—®é¢˜ã€‚</p>
<h3 id="æ•°æ®è¿ç§»"><a href="#æ•°æ®è¿ç§»" class="headerlink" title="æ•°æ®è¿ç§»"></a>æ•°æ®è¿ç§»</h3><p>MongoDB</p>
<p>MongoDBæœ¬å°±æ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„å¼€æºæ•°æ®åº“ç³»ç»Ÿã€‚</p>
<p>æ–‡æ¡£å­˜å‚¨ï¼ˆè·Ÿä¹‹å‰çš„elasticsearchå¯¹ä¸Šäº†ï¼‰ç±»ä¼¼json,å­˜å‚¨çš„å†…å®¹æ˜¯æ–‡æ¡£å‹çš„ã€‚æ•°æ®ç»“æ„æ˜¯kvé”®å€¼å¯¹çš„ã€‚Vå¯ä»¥åŒ…å«å…¶ä»–æ–‡æ¡£æ•°ç»„ä¸­ä»¥åŠæ–‡æ¡£æ•°ç»„</p>
<p>æ³¨æ„ç´¢å¼•çš„æ¦‚å¿µï¼Œå€ŸåŠ©ç´¢å¼•åˆå¯ä»¥å®ç°ç±»ä¼¼å…³ç³»å‹æ•°æ®åº“çš„åŠŸèƒ½ï¼ˆæ€»æ˜¯è¦ç«™åœ¨å‰äººçš„è‚©è†€ä¸Šçš„å˜›ï¼‰</p>
<p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p>
<p>æ–‡æ¡£ï¼š</p>
<p>é›†åˆï¼š</p>
<p>æ•°æ®åº“ï¼š</p>
<p>ä¸MySQLä¸­ä¸»è¦æ¦‚å¿µçš„å¯¹åº”å…³ç³»ï¼š</p>
<table>
<thead>
<tr>
<th>RDBMS</th>
<th>MongoDB</th>
</tr>
</thead>
<tbody><tr>
<td>æ•°æ®åº“</td>
<td>æ•°æ®åº“</td>
</tr>
<tr>
<td>è¡¨æ ¼</td>
<td>é›†åˆ</td>
</tr>
<tr>
<td>è¡Œ</td>
<td>æ–‡æ¡£</td>
</tr>
<tr>
<td>åˆ—</td>
<td>å­—æ®µ</td>
</tr>
<tr>
<td>è¡¨è”åˆ</td>
<td>åµŒå…¥æ–‡æ¡£</td>
</tr>
<tr>
<td>ä¸»é”®</td>
<td>ä¸»é”® (MongoDB æä¾›äº† key ä¸º _id )</td>
</tr>
</tbody></table>
<p>ç”±ä¸Šå’Œä¹‹å‰åœ¨elasticsearchä¸­çš„å®è·µå¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªæ–‡æ¡£å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­—æ®µå…¶å®è¿˜æ˜¯å±æ€§ã€‚ï¼ï¼ï¼</p>
<ul>
<li>åŒºåˆ†ç±»å‹å’Œå¤§å°å†™</li>
<li>k-væœ‰åºï¼Œå…¶ä¸­çš„å€¼å¯ä»¥æ˜¯å¤šæ ·çš„ï¼Œæ²¡ä»€ä¹ˆé™åˆ¶ä½†æ˜¯æ–‡æ¡£çš„é”®ä¸èƒ½é‡å¤ï¼ˆè¿™å…¶å®å¾ˆæ­£å¸¸ä½ å¥½æ¯”ä¸€ä¸ªä¸€ä¸ªç±»ä¸èƒ½æœ‰ä¿©ä¸€æ ·çš„å±æ€§ä¸€å¼ è¡¨ä¿©å­—æ®µä¸èƒ½é‡å¤ã€‚ï¼‰</li>
<li>é”®ä¸å¯æœ‰ç©ºå­—ç¬¦ä¸²ï¼Œä¹Ÿæœ‰æ³¨æ„_å¼€å¤´å’Œ$</li>
</ul>
<p><strong>GridFS</strong></p>
<p>GridFSæ˜¯ä¸€ç§å¤§å‹æ–‡ä»¶å­˜å‚¨åœ¨MongoDBçš„æ–‡ä»¶è§„èŒƒï¼Œæ‰€æœ‰å®˜æ–¹æ”¯æŒçš„é©±åŠ¨éƒ½å®ç°äº†GridFSï¼ŒGridFSæ˜¯MongoDBä¸­çš„ä¸€ä¸ªå†…ç½®åŠŸèƒ½ã€‚å¯ä»¥ä¿å­˜æ–‡ä»¶ã€‚</p>
<p>åº”è¯¥å¤šè®¤çœŸäº†è§£ä¸€äº›æ‰€ç”¨çš„ç±»çš„æºç ï¼Œå¤šæ€ã€‚æ¯”å¦‚è¯´ä¸Šæ¬¡çš„JSONè½¬åŒ–ï¼Œæ¯”å¦‚è¿™æ¬¡çš„MongoClientçš„æ„é€ ã€‚</p>
<p><strong>MinIO</strong></p>
<p>åº”å¯¹çš„ä¸»è¦æŒ‘æˆ˜æ˜¯:æ— è®ºæ•°æ®ä½äºä½•å¤„ï¼Œéƒ½ä½¿æ•°æ®å¯ç”¨?</p>
<p>Kubernetesï¼Œä¸€ä¸ªå®¹å™¨é›†ç¾¤ç®¡ç†ç³»ç»Ÿã€‚dockerä¸€ç§å®¹å™¨æŠ€æœ¯ï¼Œå¯ä»¥è¯´æ˜¯k8så†…éƒ¨çš„ä¸€ç§ä½çº§åˆ«ç»„ä»¶ã€‚MinIOå¯ç”±å…¶ç®¡ç†ã€‚</p>
<p>Drive:ä¸€ä¸ªç£ç›˜</p>
<p>Setï¼šä¸€ç»„Driveï¼Œä¸€ä¸ªå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªSetä¸Šï¼Œä¸€ä¸ªé›†ç¾¤åˆ’åˆ†ä¸ºå¤šä¸ªSet.</p>
<p>è¿™é‡Œçš„å¯¹è±¡ä¼¼ä¹è·ŸJavaé‡Œçš„ä¸ä¸€æ ·ï¼Œæ„Ÿè§‰å¾ˆå¤§çš„æ ·å­ã€‚</p>
<p>Erasure Codeï¼šå†—ä½™ç¼–ç </p>
<p>å°†ä¸€ä¸ªå¯¹è±¡åˆ†æˆäº†è‹¥å¹²ä¸ªæ•°æ®å—å’Œæ ¡éªŒå—ï¼Œè¿™æ ·å¤„ç†å°½ç®¡å¯¼è‡´äº†å¤šå‡ºæ¥ä¸€å€çš„å­˜å‚¨é‡ï¼Œä½†æ˜¯ä¸éœ€è¦åšå¤šä¸ªå¤‡ä»½ï¼Œå› æ­¤è¿˜æ˜¯çœäº†å­˜å‚¨ç©ºé—´çš„ã€‚</p>
<p>è¿™ä¹ˆçœ‹æ¥ä¼¼ä¹å¦‚æœéœ€è¦å¤‡ä»½çš„è¯è¿™ä¸ªæ›´é€‚åˆã€‚</p>
<p><strong>Erasure Code</strong> å’Œ <strong>Bit Rot Protection</strong>ï¼ˆä½è…çƒ‚ä¿æŠ¤ï¼‰ ä½¿å¾—MinIOçš„æ•°æ®å¯é æ€§å¾ˆå¥½ã€‚</p>
<p>è¿˜æœ‰ç®¡ç†å·¥å…·ï¼Œè¿™ç‚¹æ¯”MongoDBå€ŸåŠ©åˆ«çš„å·¥å…·å®ç°ç•Œé¢ç®¡ç†è¦ä¼˜è¶Šï¼Œä¸è¿‡bucketçš„å‘½åå¹¶ä¸æ”¯æŒä¸‹åˆ’çº¿ã€‚</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=" alt="img"></p>
<p>docker run -p 9000:9000 -p 9001:9001 â€“name minio -e &#x2F;home&#x2F;minio&#x2F;data:&#x2F;data -v &#x2F;home&#x2F;minio&#x2F;config:&#x2F;root&#x2F;.minio -d minio&#x2F;minio server &#x2F;data â€“console-address â€œ:9001â€</p>
<p><a href="https://gitee.com/link?target=https://blog.csdn.net/weixin_45821811/article/details/119077809">https://blog.csdn.net/weixin_45821811&#x2F;article&#x2F;details&#x2F;119077809</a> è¿™é‡Œè¦æŠŠæ§åˆ¶å°ç•Œé¢çš„ç«¯å£å·å•ç‹¬è®¾ç½®ä¸‹ä¸èƒ½è·ŸMinIO serverçš„ç«¯å£å†²çªã€‚</p>
<hr>
<p>ç„¶ååœ¨å¯åŠ¨çš„æ—¶å€™ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼š</p>
<p>docker: Error response from daemon: driver failed programming external connectivity on endpoint lamp3 (46b7917c940f7358948e55ec2df69a4dec2c6c7071b002bd374e8dbf0d40022c): (iptables failed: iptables â€“wait -t nat -A DOCKER -p tcp -d 0&#x2F;0 â€“dport 86 -j DNAT â€“to-destination 172.17.0.2:80 ! -i docker0: iptables: No chain&#x2F;target&#x2F;match by that name. è§£å†³æ–¹æ³• dockeræœåŠ¡å¯åŠ¨æ—¶å®šä¹‰çš„è‡ªå®šä¹‰é“¾DOCKERè¢«æ¸…é™¤ é‡å¯å³å¯systemctl restart docker è¿™æ—¶ä¼šå‘ç°é™¤äº†mysqlå’Œredisä¸¤ä¸ªæ¯”è¾ƒä¹…çš„å…¶ä½™éƒ½è¢«æ€æ‰äº†ï¼Œéœ€è¦åˆ©ç”¨docker start xxæŠŠå®¹å™¨é‡å¯äº†</p>
<hr>
<p>ä»éƒ¨ç½²ä¸Šæ¥çœ‹ï¼ŒLinuxä¸­æ¯”MongoDBå‹å¥½è®¸å¤šï¼Œç›´æ¥pull ç„¶å runï¼Œç•Œé¢æä¾›çš„åŠŸèƒ½ä¹Ÿä¸å°‘ã€‚å¯ä»¥ç›´æ¥ä¸Šä¼ æ–‡ä»¶ä»€ä¹ˆçš„ã€‚è€Œä¸”æä¾›äº†é¢„è§ˆåŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯çœŸæ­£å¯ç”¨çš„ç©ºé—´åªæœ‰å®é™…çš„ä¸€åŠã€‚å­˜å‚¨ä½ç½®æ˜¯hashæ¥çš„ï¼Œè¿™ä¸ªå“ˆå¸Œæ–¹å¼å¯èƒ½è·Ÿå­˜å‚¨ç©ºé—´æœ‰å…³ç³»å› æ­¤ç¡®å®šåé›†ç¾¤æ•°ä¸èƒ½ä¿®æ”¹ã€‚</p>
<p>æœ¬æ¬¡å¯¹MinIOè¿›è¡Œæ¢ç©¶çš„ç›®çš„ï¼šå®ç°æ›¿ä»£MongoDBï¼Œå³æ€ä¹ˆå°†æ–‡ä»¶å­˜è¿›å»ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦å¯¹å…¶JavaAPIè¿›è¡Œäº†è§£çš„ã€‚</p>
<p>å³ä»Šå<strong>å¯ä»¥é‡‡ç”¨å‘½ä»¤è¡Œçš„å½¢å¼æŠŠæ–‡ä»¶å­˜å‚¨åˆ°MinIO</strong>å½“ä¸­ã€‚é¦–å…ˆè¦å¯¹å…¶ä¼˜è¶Šç‚¹è¿›è¡Œäº†è§£ã€‚</p>
<p>å¯ä»¥é’ˆå¯¹æ¯ä¸ªæ¡¶è®¾ç½®ç­–ç•¥ï¼Œæ¯”å¦‚readOnly ReadAndWireteï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹æ¯ä¸ªç”¨æˆ·è®¾ç½®ï¼Œè¿™ä¸ªæ¯”è¾ƒçµæ´»</p>
<p>TODOâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&gt;ä¸è¿‡è¿™æ€ä¹ˆåœ¨Springbootä¸­ï¼ˆJava APIï¼‰ç»“åˆå‘¢ï¼Ÿ</p>
<p><strong>Java API</strong></p>
<p>æ¡¶çš„åˆ›å»ºç­‰å·¥ä½œå¼€å§‹å‰ï¼Œä¸€å®šè¦æŠŠæ—¶åŒºè®¾ç½®å¥½ï¼Œä¸ç„¶åé¢æœ‰é—®é¢˜ã€‚</p>
<p>ï¼ï¼ï¼å¯¹ç”Ÿæˆæ¡¶çš„æ—¶åŒºè®¾ç½®æ— æ³•å®ç°ï¼Œå¾ˆå¥‡æ€ªï¼Œä½†æ˜¯ä¸Šä¼ æ–‡ä»¶çš„æ—¶åŒºå´æ˜¯æ­£å¸¸çš„ã€‚</p>
<p>å¦å¤–è¦æ³¨æ„çš„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ§åˆ¶å°èƒ½å¤Ÿå¯¹bucketè¿›è¡Œæƒé™é…ç½®ï¼Œæœ‰äº›APIæ˜¯è¦æœ‰æƒé™æ‰èƒ½è°ƒç”¨æˆåŠŸçš„ã€‚è¿™ä¸ªåç»­å¦‚æœè¦åšçš„è¯è¦ç”¨æ—¥å¿—è¾“å‡ºè®°å½•ä¸€ä¸‹ã€‚</p>
<p>ç»™å®šä¸€ä¸ªæµä¸Šä¼ æˆå¯¹è±¡ã€‚ä»¥ä¸‹APIæµ‹è¯•è¿‡ç¨‹ä¸­è¦æ˜ç™½ï¼Œæ‰€è°“çš„å¯¹è±¡å…¶å®å°±æ˜¯æŒ‡ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯¹è±¡åå°±æ˜¯æ–‡ä»¶åä¸è¿‡ä»¥&#x2F;å¯ä»¥åŒæ—¶ç”Ÿæˆâ€œæ–‡ä»¶å¤¹â€</p>
<pre><code>        try &#123;
            String filePath = &quot;D:\\bosssoft-demo\\sql.txt&quot;;
            File file = new File(filePath);
            InputStream inputStream = new FileInputStream(file);
            long start = System.currentTimeMillis();
            //è¿™é‡Œobject/å‰ç”Ÿæˆçš„æ˜¯ç›®å½•å¦‚ä¸‹é¢ç”Ÿæˆäº†2021 12 ä¸¤çº§ç›®å½•
            minioClient.putObject(
                    PutObjectArgs.builder()
                    .bucket(&quot;test&quot;)
                    .object(&quot;2021/12/10&quot; + file.getName()).stream(inputStream, inputStream.available(), -1)
                    .build()
            );
            inputStream.close();
            log.info(&quot;upload successfullyï¼Œcost &#123;&#125; seconds&quot;, System.currentTimeMillis()-start);
            return &quot;ä¸Šä¼ æˆåŠŸ&quot;;
        &#125; catch (Exception ex) &#123;
            log.error(&quot;ä¸Šä¼ å¼‚å¸¸ï¼š&#123;&#125;&quot;, ex);
            return &quot;ä¸Šä¼ å¤±è´¥&quot;;
        &#125;
</code></pre>
<p>OSSå®é™…ä¸Šæ˜¯æ²¡æœ‰æ–‡ä»¶å¤¹çš„ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºå°†ä¸€ä¸ªå¯¹è±¡å­˜å‚¨è¿›å¦ä¸€ä¸ªå¯¹è±¡é‡Œã€‚æ·»åŠ çš„Objectå¤§å°ä¸èƒ½è¶…è¿‡<strong>5GB</strong>ã€‚ä¸Šä¼ æ—¶åŒåçš„Objectä¼šç›´æ¥è¦†ç›–æ‰ï¼Œæ³¨æ„*ã€‚</p>
<p>å…³äºminioä¸­uploadå’Œputçš„åŒºåˆ«æš‚æ—¶çœ‹ä¸å‡ºæ¥ä»€ä¹ˆï¼Œåº”è¯¥ä¸Šä¼ ç£ç›˜æ–‡ä»¶æ‰ä¼šçœ‹å‡ºå§ã€‚ä¸è¿‡è¿™ä¹Ÿè¯´æ˜å¯¹æ–‡ä»¶è¿˜ä¸å¤Ÿç†è§£ã€‚putæ˜¯å°†æ–‡ä»¶è½¬æˆæµæ”¾å…¥ï¼Œuploadæ˜¯ç›´æ¥å°†æ–‡ä»¶å­˜è¿›å»ã€‚</p>
<pre><code>minioClient.uploadObject(
                    UploadObjectArgs.builder()
                            .bucket(&quot;test&quot;)
                            .object(&quot;2021/12/10sql2.txt&quot;)
                            .filename(&quot;è¿™é‡Œç»™çš„æ˜¯æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„&quot;)
                            .build()
            );
</code></pre>
<p>æä¾›çš„APIå¾ˆå…¨é¢ï¼Œéƒ½æ˜¯é‡‡ç”¨å»ºé€ è€…æ¨¡å¼Builder().build()çš„å½¢å¼æ„å»ºã€‚</p>
<p>ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œå¯ä»¥æä¾›ç»™ä¸ç”¨ç™»å½•è¿›è¡Œå›¾ç‰‡æµè§ˆï¼Œç¬¬ä¸‰æ–¹å…±äº«è®¿é—®ç­‰ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥å¯¹è¿”å› URLï¼Œæ ¹æ®ä¸šåŠ¡åšä¸€äº›å‚æ•°éªŒç­¾ç­‰æ§åˆ¶ã€‚</p>
<p>getPresignedObjectUrl() ä¼šç”Ÿæˆä¸€ä¸ªå¾ˆé•¿çš„è¿æ¥ï¼Œ</p>
<pre><code>String objectUrl = minioClient.getPresignedObjectUrl(GetPresignedObjectUrlArgs.builder()
                    .bucket(&quot;test&quot;)
                    .object(&quot;2021/12/10sql2.txt&quot;)
                    .method(Method.GET)
                    //.expiry(60) // å•ä½ç§’
                    .expiry(130, TimeUnit.SECONDS)
                    .build());
            System.out.println(objectUrl);
//http://8.140.23.86:9000/test/2021/12/10sql2.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=admin%2F20211210%2Fus-west-rack-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20211210T091327Z&amp;X-Amz-Expires=130&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=9564b713e1b270c614b59cc3f4cfebc8bddd1fd04989dd86cf8c82df51546623
</code></pre>
<p>ç”Ÿæˆçš„è¿™ä¸ªè¿æ¥å¯ä»¥ç›´æ¥å»è®¿é—®æˆ‘ä»¬æŒ‡å®šçš„æŸä¸ªæ–‡ä»¶ï¼Œä¸”æ˜¯æœ‰æ—¶é—´é™åˆ¶çš„ï¼Œè¿™å°±å¾ˆçµæ´»ã€‚</p>
<p>â€œå¯ä»¥æä¾›ç»™ä¸ç”¨ç™»å½•è¿›è¡Œå›¾ç‰‡æµè§ˆï¼Œç¬¬ä¸‰æ–¹å…±äº«è®¿é—®ç­‰ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥å¯¹è¿”å› URLï¼Œæ ¹æ®ä¸šåŠ¡åšä¸€äº›å‚æ•°éªŒç­¾ç­‰æ§åˆ¶ã€‚â€</p>
<p>ç¼–è¯‘é—®é¢˜ï¼š</p>
<p>é™æ€å¸¸é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨æ—¶ä¸€å®šè¦æ…é‡ã€‚ä¸€æ—¦æœ‰ä¿®æ”¹å°±éœ€è¦å°†æ•´ä¸ªé¡¹ç›®é‡æ–°ç¼–è¯‘æ›¿æ¢ã€‚</p>
<p>ç‰ˆæœ¬å·çš„å¯¹åº”é—®é¢˜ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p><a href="https://gitee.com/link?target=https://www.cnblogs.com/pxblog/p/12246248.html">https://www.cnblogs.com/pxblog/p/12246248.html</a> gitå›é€€åˆ°æŸæ¬¡commit</p>
<p>çŠ¯äº†æå…¶ä¸¥é‡çš„éæŠ€æœ¯æ€§é—®é¢˜ï¼Œå°‘ç»™äº†classå¯¼è‡´ä¸€ç›´å‡ºé—®é¢˜ï¼ï¼ï¼</p>
<p>åº”è¯¥æ³¨æ„æ€ä¹ˆåœ¨ä¸€ä¸ªç¯å¢ƒé‡Œ è¯´è¯ è®©åˆ«äºº èƒ½å¬æ‡‚ ä¸åŒçš„ç¯å¢ƒ æœ‰ä¸åŒçš„ è¯è¯­è¡¨è¾¾æ–¹å¼</p>
<h3 id="æµ™æ”¿é’‰"><a href="#æµ™æ”¿é’‰" class="headerlink" title="æµ™æ”¿é’‰"></a>æµ™æ”¿é’‰</h3><p>ç¨‹åºé€»è¾‘ï¼š</p>
<p>æ ‡å‡†äº§å“ pty-proxy</p>
<p>é¦–å…ˆï¼Œé…ç½®SystemParameterControllerï¼Œç»™å‰ç«¯å¼€å¯æ‰«ç æŒ‰é’®ã€‚</p>
<p>DingTalkController æä¾›äºŒç»´ç ç”Ÿæˆçš„ç½‘å€ ç„¶å è°ƒç”¨IDingTalkServiceå…¶å®ç°ç±»ï¼ŒdingtalkQrLogin() é€šè¿‡IDingTalkServiceçš„DingTalkZJGovProxyService çš„ getUserCodeByQr() å†å»è°ƒç”¨getUserFlagByQr(),å»é€šè¿‡æˆ‘ä»¬çš„pty-proxyå°†è¯·æ±‚å‘ç»™é’‰é’‰åº”ç”¨ï¼Œè·å–accountIdï¼Œå‰ç«¯è¿”å›åï¼Œä¼šå»æ ¡éªŒä¸€ä¸‹æ ¹æ®é’‰é’‰codeå»çœ‹æ˜¯å¦ç»‘å®šäº†ç”¨æˆ·ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦è¯´è¿™ä¹ˆä¸€å¥—æµç¨‹å‘¢ï¼Œå› ä¸ºæ— è®ºæ˜¯ç¼ºå°‘ç¡çœ ä¹Ÿå¥½ï¼Œæˆ–è€…æ€æ ·ä¹Ÿå¥½ã€‚è¦æ¸…æ¥šç¨‹åºè¿è¡Œçš„ä¸€ä¸ªå®Œæ•´é€»è¾‘ï¼Œè¿™æ ·æ‰èƒ½çŸ¥é“é”™è¯¯åœ¨å“ªï¼Œå¯èƒ½å‘ç”Ÿçš„é—®é¢˜åœ¨å“ªã€‚</p>
<p>ç„¶åç”±äºå…¬å¸çš„ç‰¹æ®Šæ€§ï¼Œç‰ˆæœ¬çš„å·®å¼‚å’Œè¿œç¨‹è°ƒè¯•çš„ä¸åŒï¼Œä¼šæœ‰å„ç§å„æ ·çš„é—®é¢˜ï¼Œè¿™å°±éœ€è¦å»æƒ³ï¼Œå½“ç„¶è¿™å‰ææ˜¯æŒæ¡æ›´å¯èƒ½å¤šçš„æŠ€èƒ½å’Œæ„è¯†ã€‚å°¤å…¶æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ï¼Œæœ€å®¹æ˜“é€ æˆä¸å¯é¢„æ–™çš„é”™è¯¯ã€‚</p>
<p>å¦å¤–ç»“åˆä¹‹å‰åšçš„äººè„¸è¯†åˆ«ç™»å½•ï¼Œ</p>
<h3 id="å®å¤å•ç‚¹"><a href="#å®å¤å•ç‚¹" class="headerlink" title="å®å¤å•ç‚¹"></a>å®å¤å•ç‚¹</h3><p>è¿™ä¸€å¹´è¦è¿‡å»äº†ï¼Œä¸ŠåŠå¹´å“å°å¤±è´¥ï¼Œä¸‹åŠå¹´è¿·èŒ«æ‰“å·¥ï¼Œæ€»å½’æœ‰è¿›æ­¥ï¼Œä½†ç»ˆå½’æ˜¯ä¸ç”˜å¿ƒã€‚</p>
<p>ä¸ç”˜å¿ƒå•Šã€‚</p>
<h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”2022â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”2022â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”2022â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”2022â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</h1><h3 id="I-O"><a href="#I-O" class="headerlink" title="I&#x2F;O"></a>I&#x2F;O</h3><p>InputStreamReaderå’ŒOutputStreamWriterã€‚è¿™ä¸¤ä¸ªç±»çš„ä½œç”¨åˆ†åˆ«æ˜¯æŠŠå­—èŠ‚æµè½¬æˆå­—ç¬¦æµï¼ŒæŠŠå­—ç¬¦æµè½¬æˆå­—èŠ‚æµã€‚</p>
<p>Collectionåˆ¤ç©ºçš„é—®é¢˜ï¼šé›†åˆä¸­æœ‰ä¸€ä¸ªç©ºå…ƒç´ é‚£ä¹ˆè¯¥é›†åˆå¹¶ä¸ä¸ºç©ºã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠå®ä½“ç±»å¯¹è±¡ç†è§£ä¸ºä¸€ä¸ªæš‚æ—¶å­˜åœ¨çš„å­˜å‚¨ç©ºé—´ï¼Œè€Œå„ç§æ–¹æ³•å°±æ˜¯å»æ”¹å˜è¿™äº›å­˜å‚¨ç©ºé—´å†…çš„ä¸œè¥¿ï¼Œå‚æ•°æ˜¯æ–¹æ³•é—´çš„é€šè¡Œè€…ã€‚</p>
<p>this å’Œ static è¿™ä¸¤ä¸ªå…³é”®å­—</p>
<pre><code>NmgdxSyncDeptJob.class
    // æˆ‘ä»¬åœ¨è¿™ä¸ªç±»ä¸‹ åœ¨åˆ›å»ºbeançš„æ—¶å€™åŒæ—¶å¯åŠ¨è¿™ä¸ª
    @PostConstruct
    public void init() &#123;
    // è¿™äº›å‚æ•°é…ç½®åœ¨äº†è¿™äº›ç±»ä¸­
        NmgDbUtil.init(syncDbUrl, syncDbName, syncPwd);
    &#125;

ç„¶åæˆ‘ä»¬å»è°ƒç”¨è¿™ä¸ªç±»çš„init()æ–¹æ³•
NmgDbUtil.class
    @PostConstruct
    public static void init(String jdbcUrl, String username, String password) &#123;
        SYNC_DB_URL = jdbcUrl;   // è¿™äº›å¸¸é‡æ”¾åœ¨äº†è¿™äº›ç±»ä¸‹
        SYNC_DB_USERNAME = username;
        SYNC_DB_PASSWORD = password;
    &#125;

å¯æ˜¯ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢
å› ä¸ºé¦–å…ˆæˆ‘ä»¬è·å–Connectionçš„æ–¹æ³•æœ¬èº«å°±æ˜¯staticçš„ï¼Œæ‰€ä»¥è¯´å‘¢æˆ‘ä»¬åªèƒ½å»åœ¨é‡Œé¢èµ‹å€¼ä¸€äº›å¸¸é‡ã€‚
 
</code></pre>
<p>MySqlçœŸçš„å¾ˆçƒ‚ï¼Œå¾ˆçƒ‚ã€‚</p>
<p>ä¸æ¸…æ¥šå…¬å¸å·²æœ‰çš„æ•°æ®æºçš„bean,ä¸æ¸…æ¥šConncetionæ˜¯ä»€ä¹ˆæ—¶å€™ç”ŸæˆStatementæ€ä¹ˆç”¨</p>
<p>çº¦æŸå’Œè§†å›¾äº†è§£çš„ä¹Ÿä¸å¤Ÿã€‚</p>
<p>è§†å›¾æ¯”è¾ƒå®‰å…¨ä¸ä¼šå»çœŸçš„ä½œç”¨ä¿®æ”¹åœ¨ç»„æˆè¯¥è§†å›¾çš„è¡¨ä¸Š</p>
<p>å°½å¯èƒ½çš„å»åˆ©ç”¨å®˜ç½‘</p>
<p>å¦‚æœç³»ç»Ÿå‡ºç°äº†ä¸€ç§å¹³å¸¸æƒ…å†µä¸‹æ²¡æœ‰é‡åˆ°çš„å¼‚å¸¸ï¼Œé‚£å¯èƒ½æ˜¯åœ¨æ­¤å‰å°±æœ‰åˆ«çš„åœ°æ–¹ä¸å¯¹ï¼Œè€Œä¸æ˜¯å»æƒ³åŠæ³•é€‚åº”è¯•å›¾ä¿®æ”¹è¿™ç§å¼‚å¸¸ã€‚</p>
<p>æ¯”å¦‚ï¼šæˆ‘åœ¨æ–°å»ºçš„mapperé‡Œå†™sqlè¯­å¥ï¼Œæ­¤æ—¶å‘ç°å’Œå¾€å¸¸æœ‰ä¸€ç‚¹å¼‚å¸¸ï¼Œå°±æ˜¯æŠ¥äº†åº“é‡Œæ²¡è¿™ä¸ªè¡¨ï¼Œä½†è¿™å¼ æœ¬èº«å°±ä¸åœ¨è¿™ä¸ªåº“é‡Œåœ¨å¦ä¸€ä¸ªåº“é‡Œã€‚æˆ‘å°±å»æŒ‡å®šåº“åï¼Œæš‚æ—¶â€œè’™æ··â€è¿‡å»è¿™ä¸ªé”™è¯¯ã€‚è¿™å°±å¯¼è‡´åé¢æˆ‘å»è°ƒç”¨è¿™ä¸ªmapperï¼Œç„¶åäº‹åŠ¡æŒ‡å®šè¿™ä¸ªåº“çš„ç®¡ç†å™¨ï¼Œç»“æœäº‹åŠ¡ä¸ç®¡æ˜¯å¦æˆåŠŸéƒ½å›æ»šã€‚</p>
<p>æœ€ç»ˆå‘ç°æ˜¯ä¸åŒçš„åº“ç»™mapperæŒ‡å®šäº†ä¸åŒçš„æ³¨è§£ï¼Œç„¶åå»æ‰«æè¿™äº›mapperï¼Œæˆ‘æ–°å»ºçš„mapperæŒ‡å®šäº†é”™è¯¯åº“çš„ä¸“ç”¨æ³¨è§£ï¼Œè¿™å°±æ˜¯å¯¼è‡´æˆ‘å»æŠŠAåº“çš„mapperæ³¨è§£æ ‡è®°åˆ°äº†æˆ‘æ–°å»ºçš„mapperï¼Œç„¶åæŒ‡å®šbåº“çš„äº‹åŠ¡ç®¡ç†å™¨å»æ‰§è¡Œsqlï¼Œè¿™ä¹‹ä¸­å†²çªäº†ï¼Œè€Œä¸”è‚¯å®šæœ‰å¼‚å¸¸äº§ç”Ÿã€‚</p>
<p>æˆ‘ä¹‹æ‰€ä»¥æ²¡æœ‰å‘ç°å¼‚å¸¸ï¼Œæ˜¯å› ä¸ºæˆ‘å°†@Transactionalæ³¨è§£åˆ é™¤åè¿™ç§å†²çªéšä¹‹ä¹Ÿå°±ä¸å­˜åœ¨äº†ã€‚</p>
<p>è¿™ä¸ªé—®é¢˜é¦–å…ˆè¯´æ˜ï¼š</p>
<p>1.å¯¹é¡¹ç›®æ•´ä½“æŠŠæ¡ä¸è¡Œã€‚</p>
<p>2.ä¸ªäººçš„æ€è€ƒé—®é¢˜è¿˜æ˜¯æ–¹å‘ä¸æ˜ç¡®ï¼Œæ²¡æœ‰å®šä½åˆ°çœŸå®é—®é¢˜å­˜åœ¨ã€‚</p>
<p>3.debugèƒ½åŠ›ã€‚</p>
<p>*æƒ³å½“ç„¶çš„ä»¥ä¸ºé’‰é’‰å•ç‚¹èƒ½ç›´æ¥ç”¨ è°çŸ¥é“åŸŸåéƒ½ä¸ä¸€æ · å‰ç«¯ä¹Ÿæ˜¯é”™çš„ æ•´ä¸ªä¸šåŠ¡é€»è¾‘è¿½è¸ªä¸‹æ¥ å¥½å¤šåœ°æ–¹éƒ½æœ‰é—®é¢˜ ä¸¥é‡å½±å“äº†è°ƒè¯•</p>
<h3 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h3><p>åå°„å’ŒSpring çš„ AOPç»“åˆä¹Ÿå¤ªå¥‡å¦™äº†ã€‚</p>
<pre><code> MethodInvocation
</code></pre>
<p>é‚£ä¹ˆåˆ°åº•ä¸ºä»€ä¹ˆSpringä¼šå¤§é‡çš„ä½¿ç”¨åå°„æ¥å»è·å–ç±»çš„ä¿¡æ¯ï¼Œè¿™æ ·æœ‰ä»€ä¹ˆåˆ©å¼Š</p>
<p>åå°„ä¼¼ä¹æ‰æ˜¯Javaçš„ç²¾é«“</p>
<p>è®°å¿†åŠ›é—®é¢˜</p>
<p>åŸºç¡€è¿˜æ˜¯ä¸è¡Œï¼šå¯¹äºè¿æ¥æ± çš„ä½œç”¨ä¸å¤Ÿäº†è§£ åŠSpringbootçš„é…ç½®ä¸å…¶å…³è”</p>
<p>æ•°æ®åº“è¿æ¥çš„é—®é¢˜ï¼šè‡ªèº«çš„dbç›¸å…³é…ç½®ä¸mysqlæœ¬èº«çš„é…ç½®ï¼Œä»¥åŠè¿æ¥æ± ï¼ˆHikariCPï¼‰çš„é…ç½®çš„å…³ç³»ã€‚</p>
<p>æ³¨æ„åˆ°ï¼Œä¸åŒæ¡†æ¶ä¹‹é—´å¯¹äºæŸäº›ç±»çš„å‘½åæ˜¯ç›¸ä¼¼çš„ï¼Œæ¯”å¦‚Adapterï¼Œå®‰å“å’ŒSpring MVCå’Œå…¶ä»–æ¡†æ¶éƒ½å­˜åœ¨å¤§é‡çš„Adapter</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯Adapterï¼Œé€‚é…çš„æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦è¿™äº›ï¼Œä»–ä»¬çš„åŠŸèƒ½æ˜¯å¦æœ‰ç›¸ä¼¼ä¹‹å¤„å‘¢</p>
<p>åœºæ™¯å’Œç›®çš„</p>
<p>å®å¤ è«åè¶…æ—¶ ç½‘ç»œæŠ“åŒ… åˆ†æè§£å†³</p>
<p>PCç«¯ï¼šç³»ç»Ÿå¼‚å¸¸</p>
<p>APPç«¯ï¼šç”¨æˆ·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯</p>
<ol>
<li>å¯†ç æˆ–è€…ç”¨æˆ·åä¸ºç©º å¯èƒ½æ€§ä¸å¤§</li>
<li>ç”¨æˆ·åæ ¡éªŒbase64è§£å¯†æœ‰é—®é¢˜ å¯èƒ½æ€§ä¸å¤§</li>
<li>å‡ºç°äº†IllegalArgumentException Base64è§£å¯†æœ‰é—®é¢˜ å¯èƒ½æ€§ä¸å¤§</li>
<li>é”™è¯¯æ¬¡æ•° ä¹Ÿä¸å¤ªå¯èƒ½</li>
</ol>
<p>å¥½å§ ç°åœ¨åªæœ‰adminèƒ½å¤Ÿç™»ä¸Š é—®é¢˜å‡ºç°åœ¨åŒºåˆ’ä¸Š ä½†æ˜¯å‰ç«¯åˆæ²¡ä¼ åŒºåˆ’ç </p>
<p>éœ€è¦çœ‹ä¸€ä¸‹åç«¯çš„ä»£ç </p>
<p>ç”¨æˆ·æ˜¯ç©ºçš„ â€”â€”æœ€åå’Œé¢„å…ˆçŒœæƒ³çš„ä¸€æ ·ï¼Œæ˜¯å¯†ç æ ¡éªŒé‚£é‡Œå‡ºäº†é—®é¢˜ï¼Œå…¶å®ä¸€å¼€å§‹ä»”ç»†çœ‹å°±èƒ½çŒœå‡ºæ¥çš„å› ä¸ºå‰ç«¯ä¼ è¿‡æ¥çš„æ˜¯æ²¡æœ‰ç§»ä½çš„è€Œè¿™ç§æ²¡æœ‰ç§»ä½çš„å¯†ç åªæœ‰ä¸€ç§å¯èƒ½ç™»å½•ä¸Šâ€”â€”å°±æ˜¯æ•°æ®åº“é‡Œæœ¬èº«å­˜çš„å¯†ç ä¹Ÿæ˜¯åŸå§‹çš„</p>
<p>å› æ­¤ï¼Œadminä¹‹æ‰€ä»¥èƒ½å¤Ÿç™»å½•ä¸Šå’ŒåŒºåˆ’å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œè€Œæ˜¯å› ä¸ºè¿™æ˜¯ä¸ªåˆå§‹ç”¨æˆ·å¯†ç å½“ç„¶å’Œåˆ«äººä¸ä¸€æ ·ï¼Œè¿™ç‚¹åº”è¯¥æ˜¯èƒ½æƒ³åˆ°çš„ï¼Œæ²¡æƒ³åˆ°è¿˜æ˜¯å› ä¸ºæ²¡æœ‰æ ¹æ®çŒœæƒ³å»ä»”ç»†æ¯”è¾ƒä»£ç é‡Œçš„é€»è¾‘ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ€»æ˜¯ä¸æ„¿æ„æ·±å…¥å‘¢ï¼Ÿ</p>
<p>ä¸€ä¸ªåˆ—è¡¨ å¦‚ä½•å»é€šè¿‡ä¸€æ¬¡éå†ç”šè‡³ä¸éå† æ ¹æ®codeå»æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„å¯¹è±¡å°†å…¶idå±æ€§èµ‹ç»™å¦ä¸€ä¸ªç”¨æˆ·çš„</p>

  </div>
  <div id=""></div>
</div>

<script>
  
Fancybox.bind('[data-fancybox="fancybox-gallery-img"]', {
  dragToClose: true,
  Toolbar: true,
  closeButton: "top",
  Image: {
    zoom: true,
  },
  on: {
    initCarousel: (fancybox) => {
      const slide = fancybox.Carousel.slides[fancybox.Carousel.page];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
    "Carousel.change": (fancybox, carousel, to, from) => {
      const slide = carousel.slides[to];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
  },
});
</script>

<style>
    #noneimg img {
        display: none;
        z-index: 9999;
        /* width: 600px !important; */
        min-width: 0%;
        max-width: 90%;
        max-height: 80%;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            max-width: 88%
        }
    }
</style>

    <div class="post-paging">
    
    <a href="/2024/01/08/LSS/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/">
        <div class="post-paging-last">
            <span>ä¸Šä¸€ç¯‡</span>
            <p>åŸºç¡€ç®—æ³•</p>
        </div>
    </a>
    

    
</div>
</div>
		
<div class="footer">
	<div class="Copyright">
		Â©2024 By SoftLipa. ä¸»é¢˜ï¼š<a
			style="text-decoration: none;display: contents; color: #898F9F;"
			target="_blank" rel="noopener" href="https://github.com/79e/hexo-theme-quiet">Quiet</a>
	</div>
	<div class="contact">
		
		<a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
			<img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quietä¸»é¢˜">
		</a>
		
	</div>
</div>

<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            transition: border .5s;
            border: 1px solid rgba(18, 24, 58, 0.06);

            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari å’Œ Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $( '#js-go_top' )
	.gotoTop( {
		offset: 500,
		speed: 300,
		animationShow: {
			'transform': 'translate(0,0)',
			'transition': 'transform .5s ease-in-out'
		},
		animationHide: {
			'transform': 'translate(100px,0)',
			'transition': 'transform .5s ease-in-out'
		}
	} );
</script>


    <!-- Gitalk -->
    <script>
        const data = '{"clientID":"02b3c","clientSecret":"adfc7b4","repo":"gimment","owner":"duneng","admin":"duneng"}'
        const gitalk = new Gitalk({
            ...JSON.parse( data),
            id:location.pathname,
            distractionFreeMode:false
        })
        
        if(Boolean('false')){
            gitalk.render('gitalk-container')
        }
    </script>

<script>
	console.log('\n %c Hexo-Quiet ä¸»é¢˜ %c https://github.com/79e/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>
</html>

